<div class="account-pages">
  <div class="container m-auto">
    <div class="row justify-content-center">
      <div class="col-md-8 col-lg-6 col-xl-5">
        <div class="card">
          <div class="card-body">
            <h1 class="h5 text-center text-uppercase mt-3 mb-4">Identifiez-vous pour continuer</h1>
            <div class="p-2">
              <form class="form-horizontal" [formGroup]="loginForm" (ngSubmit)="onSubmit()">

                <ngb-alert type="danger" *ngIf="error" [dismissible]="false">{{ error }}</ngb-alert>

                <div class="mb-3">
                  <label for="username">Matricule</label>
                  <input type="text" formControlName="username" class="form-control" id="username" placeholder="Matricule"
                    [ngClass]="{ 'is-invalid': submitted && f.username.errors }" />
                  <div *ngIf="submitted && f.username.errors" class="invalid-feedback">
                    <div *ngIf="f.username.errors.required">Le matricule est requis</div>
                  </div>
                </div>

                <div class="mb-3">
                  <label for="password">Mot de passe</label>
                  <div class="input-group auth-pass-inputgroup">
                    <input type="password" class="form-control" #e formControlName="password" placeholder="Saisissez le mot de passe"
                      [ngClass]="{ 'is-invalid': submitted && f.password.errors }" aria-label="Password"
                      aria-describedby="password-addon">

                    <button class="btn btn-light ms-0" (click)="e.type=e.type=='password'?'text':'password'" type="button" id="password-addon"><i
                        class="mdi mdi-eye-outline"></i></button>
                    <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                      <span *ngIf="f.password.errors.required">Le mot de passe est requis</span>
                    </div>
                  </div>
                </div>

                <!-- <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="remember-check">
                  <label class="form-check-label" for="remember-check">
                      Remember me
                  </label> 
              </div>-->

                <div class="mt-3 d-grid">
                  <button class="btn btn-primary" type="submit">
                    <i class="bx bx-loader-alt fa-spin" *ngIf="loading"></i>
                    Se connecter
                  </button>
                </div>
                
                <div class="mt-4 text-center">
                  <a routerLink="/account/reset-password" class="text-muted"><i class="mdi mdi-lock mr-1"></i> Mot de passe oublié ?</a>
                </div>
              </form>
            </div>

          </div>
        </div>
        <div class="mt-5 text-center">
          <p>{{year}} © SQE CMMS.<br> Surveillance de la qualité de l'électricité</p>
        </div>

      </div>
    </div>
  </div>

  <!-- end container -->
</div>
<!-- end page -->