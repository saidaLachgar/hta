"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[913],{8913:(he,S,s)=>{s.r(S),s.d(S,{dpsModule:()=>fe});var p=s(7317),u=s(9167),o=s(9133),e=s(3668),y=s(1824),T=s(3405),j=s(3596),v=s(2411),F=s(5686),$=s(5389),N=s(8735),C=s(1366),z=s(9204),E=s(8053),w=s(2047),x=s(8260),D=s(5633),A=s(5069),M=s(8274),V=s(4522);let f=(()=>{class t extends y.c8{constructor(n,i,a,d,m){super("dps",n),this.serviceElementsFactory=n,this.confirmDialogService=i,this.MediasService=a,this.toast=d,this.http=m,this.pageSize=x.N.pageSize,this.server=x.N.serverURL,this.teamLoading=!1,this.teamInput$=new T.xQ,this.submitted=!1,this.isLoading=!1,this.page=1}findAll(){this.findByCriteria({page:1})}loadTeams(n=[]){this.teams$=(0,j.z)((0,v.of)(n),this.teamInput$.pipe((0,F.b)(500),(0,$.x)(),(0,N.h)(i=>null!=i),(0,C.b)(()=>this.teamLoading=!0),(0,z.w)(i=>this.http.get(`${this.server}/api/teams?properties[]=id&properties[]=titre&titre=`+i).pipe((0,E.U)(a=>a["hydra:member"]),(0,w.K)(()=>(0,v.of)([])),(0,C.b)(()=>this.teamLoading=!1)))))}getPagination(){this.pagination$=(0,v.of)(),this.pagination$=this.selectors$.entityActions$.pipe((0,E.U)(n=>n.payload.pagination))}deleteItem(n,i){this.confirmDialogService.setConfirmation("Vous \xeates s\xfbr de vouloir supprimer?",()=>{this.delete(n).pipe(this.toast.observe({loading:"Suppression...",success:()=>(i.closest("tr").remove(),"Dps supprim\xe9 avec succ\xe8s"),error:"un probl\xe8me est survenu, veuillez r\xe9essayer"})).subscribe()})}onSearch(){this.page=1,this.lastSearchedParams=this.dpsForm.value,this.findByCriteria(Object.assign({page:1},this.lastSearchedParams))}onCreate(){let n=this.dpsForm;if(this.submitted=!0,n.invalid)return;this.submitted=!1,this.isLoading=!0;let i=this.toast,a=this,d=Object.entries(n.value);const m=Object.fromEntries(d.filter(([b,L])=>""!==L));this.add(m).subscribe({error:()=>{a.isLoading=!1,i.error("un probl\xe8me est survenu, veuillez r\xe9essayer")},complete(){n.reset(),a.isLoading=!1,i.success("Dps ajout\xe9 avec succ\xe8s")}})}onUpdate(n){let i=this.dpsForm;if(this.submitted=!0,i.invalid)return;this.submitted=!1,this.isLoading=!0;let a=this,d=this.toast,m=Object.entries(i.value);const b=Object.fromEntries(m.filter(([L,ge])=>""!==ge));b.id=n,this.update(b).subscribe({error:()=>{a.isLoading=!1,d.error("un probl\xe8me est survenu, veuillez r\xe9essayer")},complete(){a.isLoading=!1,d.success("Dps a \xe9t\xe9 mis \xe0 jour avec succ\xe8s")}})}get titre(){return this.dpsForm.get("titre")}get team(){return this.dpsForm.get("team")}findByCriteria(n){this.dps$=(0,v.of)([]);let i=Object.keys(n).filter(a=>""!=n[a]&&null!=n[a]).reduce((a,d)=>Object.assign(Object.assign({},a),{[d]:n[d]}),{});this.dps$=this.getWithQuery(i),this.getPagination()}onPaginate(n){this.findByCriteria(Object.assign({page:n},this.lastSearchedParams))}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(y.yV),e.\u0275\u0275inject(D.D),e.\u0275\u0275inject(A.q),e.\u0275\u0275inject(M.jE),e.\u0275\u0275inject(V.eN))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=s(1950),l=s(6019),h=s(9785);function B(t,r){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Ce champ est obligatoire."),e.\u0275\u0275elementEnd())}function O(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",21),e.\u0275\u0275template(1,B,2,0,"span",22),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.service.titre.errors.required)}}function U(t,r){1&t&&e.\u0275\u0275element(0,"i",23)}const P=function(t){return{"is-invalid":t}};let R=(()=>{class t{constructor(n,i){this.fb=n,this.service=i,this.breadCrumbItems=[{label:"Dps"},{label:"Nouveau Dps",active:!0}],i.loadTeams(),i.dpsForm=this.fb.group({titre:["",o.kI.required],nbClients:[null],team:[[]]})}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(f))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-dps-create"]],decls:35,vars:17,consts:[[1,"container-fluid"],["title","Nouvelle direction provinciale",3,"Loading","breadcrumbItems"],[1,"row","mt-4",3,"formGroup","ngSubmit"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"mb-3","row"],["for","name-input",1,"col-md-2","col-form-label"],[1,"col-md-10"],["formControlName","titre","type","text","id","name-input",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","name-input",1,"col-md-2","col-form-label","pt-0"],[1,"text-muted"],["formControlName","nbClients","type","number","step","1","id","name-input",1,"form-control"],["formControlName","team","bindLabel","titre","bindValue","@id","typeToSearchText","Veuillez saisir 2 caract\xe8res ou plus",3,"items","multiple","minTermLength","loading","typeahead"],[1,"row","justify-content-end"],[1,"col-auto"],["routerLink","/dps",1,"btn","btn-light","me-2"],[1,"fas","fa-arrow-circle-left","me-1"],[1,"btn","btn-primary"],["class","bx bx-loader-alt fa-spin",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"bx","bx-loader-alt","fa-spin"]],template:function(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"form",2),e.\u0275\u0275listener("ngSubmit",function(){return i.service.onCreate()}),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275elementStart(8,"label",7),e.\u0275\u0275text(9,"Nom"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",8),e.\u0275\u0275element(11,"input",9),e.\u0275\u0275template(12,O,2,1,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",6),e.\u0275\u0275elementStart(14,"label",11),e.\u0275\u0275text(15,"System DMS "),e.\u0275\u0275element(16,"br"),e.\u0275\u0275elementStart(17,"small",12),e.\u0275\u0275text(18,"Nombre total de clients"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",8),e.\u0275\u0275element(20,"input",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",6),e.\u0275\u0275elementStart(22,"label",7),e.\u0275\u0275text(23,"\xc9quipes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",8),e.\u0275\u0275element(25,"ng-select",14),e.\u0275\u0275pipe(26,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",15),e.\u0275\u0275elementStart(28,"div",16),e.\u0275\u0275elementStart(29,"button",17),e.\u0275\u0275element(30,"i",18),e.\u0275\u0275text(31,"Retour \xe0 la liste"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"button",19),e.\u0275\u0275template(33,U,1,0,"i",20),e.\u0275\u0275text(34," Ajouter"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("Loading",e.\u0275\u0275pipeBind1(2,11,i.service.loading$))("breadcrumbItems",i.breadCrumbItems),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",i.service.dpsForm),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(15,P,i.service.titre.invalid&&i.service.submitted)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.service.submitted&&i.service.titre.errors),e.\u0275\u0275advance(13),e.\u0275\u0275property("items",e.\u0275\u0275pipeBind1(26,13,i.service.teams$))("multiple",!0)("minTermLength",2)("loading",i.service.teamLoading)("typeahead",i.service.teamInput$),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf",i.service.isLoading))},directives:[g.V,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,l.NgClass,l.NgIf,o.wV,h.w9,p.rH],pipes:[l.AsyncPipe],encapsulation:2}),t})();var _=s(7686);const k=function(t){return["/teams/details",t]};function J(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"a",13),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t){const n=r.$implicit,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("routerLink",i.authService.isAuthorized("teams_details")?e.\u0275\u0275pureFunction1(2,k,n.id):null),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("- ",n.titre,"")}}function G(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"tbody"),e.\u0275\u0275elementStart(1,"tr",9),e.\u0275\u0275elementStart(2,"th",10),e.\u0275\u0275text(3,"Titre :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"tr",9),e.\u0275\u0275elementStart(7,"th",10),e.\u0275\u0275text(8,"System DMS "),e.\u0275\u0275element(9,"br"),e.\u0275\u0275elementStart(10,"small",11),e.\u0275\u0275text(11,"Nombre total de clients"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"td"),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"tr",9),e.\u0275\u0275elementStart(15,"th",10),e.\u0275\u0275text(16,"\xc9quipes :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"td"),e.\u0275\u0275template(18,J,3,4,"div",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",n.dps.titre," "),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate1(" ",n.dps.nbClients," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngForOf",n.dps.team)}}let H=(()=>{class t{constructor(n,i,a){this.route=n,this.service=i,this.authService=a;let d=n.snapshot.paramMap.get("id");i.getByKey(d).subscribe(m=>this.dps=m)}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(p.gz),e.\u0275\u0275directiveInject(f),e.\u0275\u0275directiveInject(_.$))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-dps-details"]],decls:11,vars:5,consts:[[1,"container-fluid"],["title","D\xe9tails de la direction provinciale",3,"Loading","breadcrumbItems"],[1,"card","mt-4"],[1,"card-body","pt-5"],[1,"table-responsive"],[1,"table","table-nowrap","mb-0"],[4,"ngIf"],["routerLink","/dps",1,"btn","btn-light","mt-4","float-end"],[1,"fas","fa-arrow-circle-left","me-1"],["valign","middle"],["scope","row"],[1,"text-muted"],[4,"ngFor","ngForOf"],["target","_blank","rel","noopener noreferrer",3,"routerLink"]],template:function(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"table",5),e.\u0275\u0275template(7,G,19,3,"tbody",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",7),e.\u0275\u0275element(9,"i",8),e.\u0275\u0275text(10,"Retour \xe0 la liste"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("Loading",e.\u0275\u0275pipeBind1(2,3,i.service.loading$))("breadcrumbItems",i.breadCrumbItems),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",i.dps))},directives:[g.V,l.NgIf,p.rH,l.NgForOf,p.yS],pipes:[l.AsyncPipe],encapsulation:2}),t})();function K(t,r){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Ce champ est obligatoire."),e.\u0275\u0275elementEnd())}function Q(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",21),e.\u0275\u0275template(1,K,2,0,"span",22),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.service.titre.errors.required)}}function Y(t,r){1&t&&e.\u0275\u0275element(0,"i",23)}const W=function(t){return{"is-invalid":t}};let X=(()=>{class t{constructor(n,i,a){this.route=n,this.fb=i,this.service=a,this.breadCrumbItems=[{label:"Dps"},{label:"Mise \xe0 jour du Dps",active:!0}],this.id=Number(this.route.snapshot.paramMap.get("id")),a.loadTeams(),a.dpsForm=i.group({titre:["",o.kI.required],nbClients:[null],team:[[]]}),a.getByKey(this.id).subscribe(d=>{a.loadTeams(d.team?d.team:[]),a.dpsForm.setValue({titre:d.titre,team:d.team.length?d.team.map(m=>m["@id"]):[],nbClients:d.nbClients})})}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(p.gz),e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(f))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-dps-update"]],decls:36,vars:20,consts:[[1,"container-fluid"],["title","Mise \xe0 jour de la direction provinciale",3,"Loading","breadcrumbItems"],[1,"row","mt-4",3,"formGroup","ngSubmit"],[1,"col-12",3,"disabled"],[1,"card"],[1,"card-body"],[1,"mb-3","row"],["for","name-input",1,"col-md-2","col-form-label"],[1,"col-md-10"],["formControlName","titre","type","text","id","name-input",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","name-input",1,"col-md-2","col-form-label","pt-0"],[1,"text-muted"],["formControlName","nbClients","type","number","step","1","id","name-input",1,"form-control"],["formControlName","team","bindLabel","titre","bindValue","@id","typeToSearchText","Veuillez saisir 2 caract\xe8res ou plus",3,"items","multiple","minTermLength","loading","typeahead"],[1,"row","justify-content-end"],[1,"col-auto"],["routerLink","/dps",1,"btn","btn-light","me-2"],[1,"fas","fa-arrow-circle-left","me-1"],[1,"btn","btn-primary"],["class","bx bx-loader-alt fa-spin",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"bx","bx-loader-alt","fa-spin"]],template:function(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"form",2),e.\u0275\u0275listener("ngSubmit",function(){return i.service.onUpdate(i.id)}),e.\u0275\u0275elementStart(4,"fieldset",3),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementStart(6,"div",4),e.\u0275\u0275elementStart(7,"div",5),e.\u0275\u0275elementStart(8,"div",6),e.\u0275\u0275elementStart(9,"label",7),e.\u0275\u0275text(10,"Titre"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",8),e.\u0275\u0275element(12,"input",9),e.\u0275\u0275template(13,Q,2,1,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",6),e.\u0275\u0275elementStart(15,"label",11),e.\u0275\u0275text(16,"System DMS "),e.\u0275\u0275element(17,"br"),e.\u0275\u0275elementStart(18,"small",12),e.\u0275\u0275text(19,"Nombre total de clients"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",8),e.\u0275\u0275element(21,"input",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",6),e.\u0275\u0275elementStart(23,"label",7),e.\u0275\u0275text(24,"\xc9quipes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",8),e.\u0275\u0275element(26,"ng-select",14),e.\u0275\u0275pipe(27,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",15),e.\u0275\u0275elementStart(29,"div",16),e.\u0275\u0275elementStart(30,"button",17),e.\u0275\u0275element(31,"i",18),e.\u0275\u0275text(32,"Retour \xe0 la liste"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"button",19),e.\u0275\u0275template(34,Y,1,0,"i",20),e.\u0275\u0275text(35," Sauvegarder"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("Loading",e.\u0275\u0275pipeBind1(2,12,i.service.loading$))("breadcrumbItems",i.breadCrumbItems),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",i.service.dpsForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(5,14,i.service.loading$)),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(18,W,i.service.titre.invalid&&i.service.submitted)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.service.submitted&&i.service.titre.errors),e.\u0275\u0275advance(13),e.\u0275\u0275property("items",e.\u0275\u0275pipeBind1(27,16,i.service.teams$))("multiple",!0)("minTermLength",2)("loading",i.service.teamLoading)("typeahead",i.service.teamInput$),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf",i.service.submitted&&i.service.isLoading))},directives:[g.V,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,l.NgClass,l.NgIf,o.wV,h.w9,p.rH],pipes:[l.AsyncPipe],encapsulation:2}),t})();var I=s(5450),c=s(6015);function Z(t,r){1&t&&(e.\u0275\u0275elementStart(0,"a",26),e.\u0275\u0275element(1,"i",27),e.\u0275\u0275text(2," Ajouter"),e.\u0275\u0275elementEnd())}function q(t,r){1&t&&(e.\u0275\u0275elementStart(0,"td",28),e.\u0275\u0275text(1," Chargement... "),e.\u0275\u0275elementEnd())}function ee(t,r){1&t&&(e.\u0275\u0275elementStart(0,"td",28),e.\u0275\u0275text(1," Aucune donn\xe9e trouv\xe9e ! "),e.\u0275\u0275elementEnd())}const te=function(t){return["/teams/details",t]};function ne(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"a",33),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t){const n=r.$implicit,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("routerLink",i.authService.isAuthorized("teams_details")?e.\u0275\u0275pureFunction1(2,te,n.id):null),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("- ",n.titre,"")}}const ie=function(t){return["details",t]};function re(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"a",39),e.\u0275\u0275element(1,"i",40),e.\u0275\u0275text(2," Voir "),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(1,ie,n.id))}}const ae=function(t){return["update",t]};function se(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"a",39),e.\u0275\u0275element(1,"i",41),e.\u0275\u0275text(2," Modifier "),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(1,ae,n.id))}}function de(t,r){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",42),e.\u0275\u0275listener("click",function(a){e.\u0275\u0275restoreView(n);const d=e.\u0275\u0275nextContext(2).$implicit;return e.\u0275\u0275nextContext().dpsService.deleteItem(d.id,a.target)}),e.\u0275\u0275element(1,"i",43),e.\u0275\u0275text(2," Supprimer "),e.\u0275\u0275elementEnd()}}function oe(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",34),e.\u0275\u0275element(1,"i",35),e.\u0275\u0275elementStart(2,"div",36),e.\u0275\u0275template(3,re,3,3,"a",37),e.\u0275\u0275template(4,se,3,3,"a",37),e.\u0275\u0275template(5,de,3,0,"a",38),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.authService.isAuthorized("dps_details")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.authService.isAuthorized("dps_update")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.authService.isAuthorized("dps_delete"))}}function le(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"tr",12),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275element(2,"ngb-highlight",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275element(4,"ngb-highlight",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275template(6,ne,3,4,"div",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td",31),e.\u0275\u0275template(8,oe,6,3,"div",32),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t){const n=r.$implicit,i=e.\u0275\u0275nextContext(),a=e.\u0275\u0275reference(25),d=e.\u0275\u0275reference(28);e.\u0275\u0275advance(2),e.\u0275\u0275property("result",n.titre)("term",a.value),e.\u0275\u0275advance(2),e.\u0275\u0275property("result",n.nbClients)("term",d.value),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.team),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.authService.isAuthorized("dps_details")||i.authService.isAuthorized("dps_update")||i.authService.isAuthorized("dps_delete"))}}function me(t,r){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",45),e.\u0275\u0275elementStart(1,"div",46),e.\u0275\u0275elementStart(2,"div",47),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",46),e.\u0275\u0275elementStart(5,"div",48),e.\u0275\u0275elementStart(6,"ngb-pagination",49),e.\u0275\u0275listener("pageChange",function(a){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext(2).dpsService.page=a})("pageChange",function(a){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext(2).dpsService.onPaginate(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&t){const n=e.\u0275\u0275nextContext().ngIf,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate3(" Affichage de ",n.startIndex," \xe0 ",n.endIndex," de ",n.totalRecords," entr\xe9es "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",n.totalRecords)("page",i.dpsService.page)("pageSize",i.dpsService.pageSize)("maxSize",5)}}function pe(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,me,7,7,"div",44),e.\u0275\u0275elementContainerEnd()),2&t){const n=r.ngIf,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.totalRecords>i.dpsService.pageSize)}}const ce=[{path:"",component:(()=>{class t{constructor(n,i,a,d,m){this.dpsService=n,this.fb=i,this.authService=a,this.config=d,this.lightbox=m,n.findAll(),n.loadTeams(),n.dpsForm=i.group({titre:[""],nbClients:[null],"team.id[]":[""]}),d.notFoundText="Aucune donn\xe9e trouv\xe9e !"}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(f),e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(_.$),e.\u0275\u0275directiveInject(h.$q),e.\u0275\u0275directiveInject(I.ey))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-dps-list"]],decls:52,vars:28,consts:[[1,"container-fluid","mb-5"],[1,"row","align-items-center","justify-content-between","mb-4"],[1,"col-auto"],["title","Les directions provinciales",3,"breadcrumbItems"],["routerLink","/dps/add","class","btn btn-primary ms-2",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"table-responsive",3,"formGroup","ngSubmit"],[1,"table","table-bordered"],["width","123px"],["valign","middle"],["type","text","placeholder","Titre...","formControlName","titre",1,"form-control"],["searchTitre",""],["type","number","step","1","placeholder","System DMS...","formControlName","nbClients",1,"form-control"],["searchNbClients",""],["formControlName","team.id[]","bindLabel","titre","bindValue","id","placeholder","\xc9quipe..","typeToSearchText","Veuillez saisir 2 caract\xe8res ou plus",3,"items","multiple","minTermLength","loading","typeahead"],["searchTeam",""],["type","submit",1,"btn","btn-sm","btn-primary","d-flex","align-items-center"],[1,"bx","bx-search","me-1"],["type","reset",1,"btn","btn-sm","text-primary","flex","align-items-center",3,"click"],[1,"bx","bx-x","me-1"],["class","text-center","colspan","5",4,"ngIf"],["valign","middle",4,"ngFor","ngForOf"],[4,"ngIf"],["routerLink","/dps/add",1,"btn","btn-primary","ms-2"],[1,"fas","fa-plus-circle"],["colspan","5",1,"text-center"],[3,"result","term"],[4,"ngFor","ngForOf"],["align","center"],["ngbDropdown","","container","body","placement","bottom-right",4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"routerLink"],["ngbDropdown","","container","body","placement","bottom-right"],["ngbDropdownToggle","","data-toggle","dropdown","aria-expanded","true",1,"fas","fa-ellipsis-h","dropdown-toggle","c-pointer"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["class","dropdown-item","href","javascript: void(0);",3,"routerLink",4,"ngIf"],["class","dropdown-item text-danger","href","javascript: void(0);",3,"click",4,"ngIf"],["href","javascript: void(0);",1,"dropdown-item",3,"routerLink"],[1,"fas","fa-eye","me-2"],[1,"fas","fa-edit","me-2"],["href","javascript: void(0);",1,"dropdown-item","text-danger",3,"click"],[1,"fas","fa-trash","me-2"],["class","row justify-content-md-between align-items-md-center mt-2",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","maxSize","pageChange"]],template:function(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275element(3,"app-page-title",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",2),e.\u0275\u0275template(5,Z,3,0,"a",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275elementStart(8,"div",7),e.\u0275\u0275elementStart(9,"div",8),e.\u0275\u0275elementStart(10,"form",9),e.\u0275\u0275listener("ngSubmit",function(){return i.dpsService.onSearch()}),e.\u0275\u0275elementStart(11,"table",10),e.\u0275\u0275elementStart(12,"thead"),e.\u0275\u0275elementStart(13,"tr"),e.\u0275\u0275elementStart(14,"th"),e.\u0275\u0275text(15,"Titre"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"th"),e.\u0275\u0275text(17,"System DMS"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"th"),e.\u0275\u0275text(19,"\xc9quipes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(20,"th",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"tbody"),e.\u0275\u0275elementStart(22,"tr",12),e.\u0275\u0275elementStart(23,"td"),e.\u0275\u0275element(24,"input",13,14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"td"),e.\u0275\u0275element(27,"input",15,16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"td"),e.\u0275\u0275element(30,"ng-select",17,18),e.\u0275\u0275pipe(32,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"td"),e.\u0275\u0275elementStart(34,"button",19),e.\u0275\u0275element(35,"i",20),e.\u0275\u0275text(36,"Rechercher "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"button",21),e.\u0275\u0275listener("click",function(){return i.dpsService.findAll()}),e.\u0275\u0275element(38,"i",22),e.\u0275\u0275text(39,"R\xe9initialiser "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"tr"),e.\u0275\u0275template(41,q,2,0,"td",23),e.\u0275\u0275pipe(42,"async"),e.\u0275\u0275pipe(43,"async"),e.\u0275\u0275template(44,ee,2,0,"td",23),e.\u0275\u0275pipe(45,"async"),e.\u0275\u0275pipe(46,"async"),e.\u0275\u0275pipe(47,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(48,le,9,6,"tr",24),e.\u0275\u0275pipe(49,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(50,pe,2,1,"ng-container",25),e.\u0275\u0275pipe(51,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("breadcrumbItems",i.breadCrumbItems),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.authService.isAuthorized("dps_add")),e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",i.dpsService.dpsForm),e.\u0275\u0275advance(20),e.\u0275\u0275property("items",e.\u0275\u0275pipeBind1(32,12,i.dpsService.teams$))("multiple",!0)("minTermLength",2)("loading",i.dpsService.teamLoading)("typeahead",i.dpsService.teamInput$),e.\u0275\u0275advance(11),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(42,14,!e.\u0275\u0275pipeBind1(43,16,i.dpsService.dps$)&&i.dpsService.loading$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(45,18,e.\u0275\u0275pipeBind1(46,20,i.dpsService.dps$)&&0===e.\u0275\u0275pipeBind1(47,22,i.dpsService.dps$).length&&i.dpsService.loaded$)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(49,24,i.dpsService.dps$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(51,26,i.dpsService.pagination$)))},directives:[g.V,l.NgIf,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,o.wV,h.w9,l.NgForOf,p.yS,c._h,c.jt,c.iD,c.Vi,c.N9],pipes:[l.AsyncPipe],encapsulation:2}),t})(),canActivate:[u.p],data:{access:"dps_show"}},{path:"add",component:R,canActivate:[u.p],data:{access:"dps_add"}},{path:"update/:id",component:X,canActivate:[u.p],data:{access:"dps_update"}},{path:"details/:id",component:H,canActivate:[u.p],data:{access:"dps_details"}}];let ue=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[p.Bz.forChild(ce)],p.Bz]}),t})();var ve=s(9922);let fe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[ue,ve.m,I.QM]]}),t})()}}]);