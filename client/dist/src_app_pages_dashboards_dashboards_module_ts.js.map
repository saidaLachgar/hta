{"version":3,"file":"src_app_pages_dashboards_dashboards_module_ts.js","mappings":"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","sources":["./src/app/pages/dashboards/dashboards-routing.module.ts","./src/app/pages/dashboards/dashboards.module.ts","./src/app/pages/dashboards/default/default.component.ts","./src/app/pages/dashboards/default/default.component.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { DefaultComponent } from './default/default.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: DefaultComponent\r\n    },\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class DashboardsRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { NgApexchartsModule } from 'ng-apexcharts';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { DashboardsRoutingModule } from './dashboards-routing.module';\r\nimport { DefaultComponent } from './default/default.component';\r\nimport { NgbTooltipModule } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@NgModule({\r\n  imports: [\r\n    DashboardsRoutingModule,\r\n    NgbTooltipModule,\r\n    SharedModule,\r\n    NgApexchartsModule,\r\n  ],\r\n  declarations: [\r\n    DefaultComponent,\r\n  ],\r\n})\r\nexport class DashboardsModule { }\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { map } from 'rxjs/operators';\r\nimport { DecimalHourToTimePipe } from 'src/app/core/pipes';\r\nimport { AuthenticationService } from 'src/app/core/services/auth.service';\r\nimport { environment } from 'src/environments/environment';\r\n@Component({\r\n  selector: 'app-default',\r\n  templateUrl: './default.component.html',\r\n  styleUrls: ['./default.component.scss']\r\n})\r\nexport class DefaultComponent implements OnInit {\r\n  readonly server = environment.serverURL;\r\n  months: { value: number, label: string }[] = [];\r\n  isVisible: string;\r\n  isActive: string;\r\n  DMSType: boolean;\r\n  IFSType: boolean;\r\n  ENDType: boolean;\r\n  today: Date = new Date();\r\n  AnomaliesPerTeamChart;\r\n  teamsStats$;\r\n  teamsDMSCharts$;\r\n  teamsIFSCharts$;\r\n  teamsENDCharts$;\r\n  teamsAnomalies$\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    public authService: AuthenticationService,\r\n  ) {\r\n    this.teamsAnomalies$ = http.get(`${this.server}/api/analytics/teams-anomalies`).pipe(\r\n      map(data => this.anomaliesPerTeamChart(data))\r\n    );\r\n\r\n    this.ReportIFS();\r\n    this.ReportDMS();\r\n    this.ReportEND();\r\n  }\r\n\r\n  ReportIFS(type: boolean = true) { this.teamsIFSCharts$ = this.teamsMonthlyStatsChart(\"IFS\", type); this.IFSType = type; }\r\n  ReportDMS(type: boolean = true) { this.teamsDMSCharts$ = this.teamsMonthlyStatsChart(\"DMS\", type); this.DMSType = type; }\r\n  ReportEND(type: boolean = true) { this.teamsENDCharts$ = this.teamsMonthlyStatsChart(\"END\", type); this.ENDType = type; }\r\n  ReportStats(selectedMonth: string) { this.teamsStats$ = this.http.get(`${this.server}/api/analytics/teams-data/`+ selectedMonth).pipe() }\r\n\r\n\r\n  ngOnInit() {\r\n    //  horizontal-vertical layput set\r\n    const attribute = document.body.getAttribute('data-layout');\r\n    const vertical = document.getElementById('layout-vertical');\r\n    this.isVisible = attribute;\r\n    vertical && vertical.setAttribute('checked', 'true');\r\n  }\r\n\r\n  teamsMonthlyStatsChart(property: string, type: boolean): any {\r\n    return this.http.get(`${this.server}/api/analytics/teams-monthly-data?property=${property}&type=${type}`).pipe(\r\n      map(data => {\r\n        const decimalHourToTimePipe = new DecimalHourToTimePipe();\r\n        const monthMap: { [key: string]: string } = {\r\n          \"01\": \"JAN\", \"02\": \"FÉV\", \"03\": \"MAR\", \"04\": \"AVR\",\r\n          \"05\": \"MAI\", \"06\": \"JUN\", \"07\": \"JUL\", \"08\": \"AOÛ\",\r\n          \"09\": \"SEP\", \"10\": \"OCT\", \"11\": \"NOV\", \"12\": \"DÉC\"\r\n        };\r\n\r\n        let statData = {\r\n          series: [],\r\n          chart: {\r\n            height: 275,\r\n            type: \"line\"\r\n          },\r\n          dataLabels: {\r\n            enabled: false,\r\n          },\r\n          yaxis: {\r\n            labels: {\r\n              formatter: function (val) {\r\n                if (property == \"DMS\") {\r\n                  return decimalHourToTimePipe.transform(val);\r\n                }\r\n                return val.toFixed(3);\r\n              }\r\n            },\r\n          },\r\n          stroke: {\r\n            curve: \"smooth\"\r\n          },\r\n          xaxis: {\r\n            labels: {\r\n              rotate: -45\r\n            },\r\n            categories: [],\r\n          },\r\n        };\r\n        // console.log(data);\r\n\r\n        for (const teamName in data) {\r\n          statData.series.push({\r\n            name: teamName,\r\n            data: data[teamName].map(monthData => {\r\n              statData.xaxis.categories.push(monthMap[monthData[\"MONTH\"]]);\r\n              return monthData[property];\r\n            })\r\n          });\r\n        }\r\n        // console.log(statData);\r\n        \r\n        return statData;\r\n      })\r\n    );\r\n  }\r\n\r\n  anomaliesPerTeamChart(data: any): any {\r\n    return {\r\n      series: [\r\n        {\r\n          name: \"Réaliser\",\r\n          data: data.map(item => item.ACHIEVED_ANOMALIES)\r\n        },\r\n        {\r\n          name: \"Non réparé\",\r\n          data: data.map(item => item.TOTAL_ANOMALIES - item.ACHIEVED_ANOMALIES)\r\n        }\r\n      ],\r\n      xaxis: {\r\n        type: \"category\",\r\n        categories: data.map(item => item.TEAM)\r\n      },\r\n      yaxis: {\r\n        labels: {\r\n          formatter: value => Math.round(value)\r\n        },\r\n      },\r\n      chart: {\r\n        type: \"bar\",\r\n        height: 275,\r\n        stacked: true,\r\n        toolbar: {\r\n          show: true\r\n        },\r\n        zoom: {\r\n          enabled: true\r\n        }\r\n      },\r\n      responsive: [\r\n        {\r\n          breakpoint: 480,\r\n          options: {\r\n            legend: {\r\n              position: \"bottom\",\r\n              offsetX: -10,\r\n              offsetY: 0\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      plotOptions: {\r\n        bar: {\r\n          horizontal: false\r\n        }\r\n      },\r\n      legend: {\r\n        position: \"right\",\r\n        offsetY: 40\r\n      },\r\n      fill: {\r\n        opacity: 1\r\n      }\r\n    };\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid\">\r\n    <!-- start page title -->\r\n    <div class=\"row\">\r\n        <div class=\"col-12\">\r\n            <div class=\"page-title-box d-flex align-items-center justify-content-between\">\r\n                <p class=\"mb-0 h4\">Tableau de bord</p>\r\n                <!-- <button class=\"btn btn-outline-info\">Télécharger CSV</button> -->\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- end page title -->\r\n\r\n    <div class=\"row mt-4 mb-2\">\r\n        <div class=\"col-12\">\r\n            <div class=\"card card-body\">\r\n            <div class=\"clearfix\">\r\n                <div class=\"float-end\">\r\n                    <months-selector (selectionChange)=\"ReportStats($event)\"></months-selector>\r\n                </div>\r\n                <h4 class=\"card-title mb-4\">Analyses mensuelles</h4>\r\n            </div>\r\n            <div class=\"table-responsive\">\r\n                <table class=\"table table-bordered\">\r\n                    <thead>\r\n                        <tr>\r\n                          <th>Équipe</th>\r\n                          <th>Visite au sol <span class=\"text-muted ms-1 align-middle\" ngbTooltip=\"Année en cours\"><i class=\"bx bx-info-circle\"></i></span></th>\r\n                          <th>Anomalies réalisées <span class=\"text-muted ms-1 align-middle\" ngbTooltip=\"Les données sont depuis toujours (pas d'intervalle de temps)\"><i class=\"bx bx-info-circle\"></i></span></th>\r\n                          <th>Nombre d'incidents</th>\r\n                          <th>Nombre de coupures</th>\r\n                          <th>Nombre de clients coupés</th>\r\n                          <th>Nombre de postes coupés</th>\r\n                          <th>DMS</th>\r\n                          <th>IFS</th>\r\n                          <th>END</th>\r\n                        </tr>\r\n                      </thead>\r\n                    <tbody *ngIf=\"teamsStats$ | async as teamsStats; else loading\">\r\n                        <tr *ngFor=\"let team of teamsStats;\" valign=\"middle\">\r\n                            <td>{{team.TEAM}}</td>\r\n                            <td>{{team.VISIT_LENGTH}} km</td>\r\n                            <td>{{ (team.ACHIEVED_ANOMALIES ? (team.ACHIEVED_ANOMALIES / team.TOTAL_ANOMALIES) * 100 : 0) | number:'1.1-1' }}%</td>\r\n                            <td>{{team.INCIDENTS_COUNT}}</td>\r\n                            <td>{{team.COUPEUR_COUNT}}</td>\r\n                            <td>{{team.CLIENTS_COUNT}}</td>\r\n                            <td>{{team.POSTES_TOTAL}}</td>\r\n                            <td>{{team.DMS_TOTAL | decimalHourToTime }}</td>\r\n                            <td>{{team.IFS_TOTAL | number:'1.4-4'}}</td>\r\n                            <td>{{team.END_TOTAL | number:'1.4-4'}}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <ng-template #loading>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td class=\"text-center\" colspan=\"10\">Chargement...</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </ng-template>\r\n                </table>\r\n            </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <!-- charts -->\r\n    <div class=\"row\">\r\n        <div class=\"col-lg-6\">\r\n            <div class=\"card card-body\">\r\n                <div class=\"fw-bold mb-4\">\r\n                    DMS <small class=\"text-muted font-size-12\">(Durée moyenne des interruptions de l'année en cours)</small>\r\n                    <div class=\"float-end\">\r\n                        <ul class=\"nav nav-pills\">\r\n                        <li class=\"nav-item\">\r\n                            <a class=\"nav-link py-1 px-2\" href=\"javascript: void(0);\" (click)=\"ReportDMS(false)\"\r\n                            [ngClass]=\"{'active': DMSType==false}\">Coupeur</a>\r\n                        </li>\r\n                        <li class=\"nav-item\">\r\n                            <a class=\"nav-link font-size-12 py-1 px-2\" href=\"javascript: void(0);\" (click)=\"ReportDMS()\"\r\n                                [ngClass]=\"{'active': DMSType}\">Incident</a>\r\n                        </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <ng-container *ngIf=\"teamsDMSCharts$ | async as chart;else teamsDMSChartsLoading\">\r\n                    <apx-chart\r\n                        [series]=\"chart.series\"\r\n                        [chart]=\"chart.chart\"\r\n                        [xaxis]=\"chart.xaxis\"\r\n                        [yaxis]=\"chart.yaxis\"\r\n                        [stroke]=\"chart.stroke\"\r\n                        [tooltip]=\"chart.tooltip\"\r\n                        [dataLabels]=\"chart.dataLabels\"\r\n                        [colors]=\"chart.colors\"\r\n                    ></apx-chart>\r\n                </ng-container>\r\n                <ng-template #teamsDMSChartsLoading>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"margin: auto; opacity: 0.2; display: block;\" width=\"200px\" height=\"310px\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\">\r\n                        <g transform=\"rotate(180 50 50)\"><rect x=\"15\" y=\"15\" width=\"10\" height=\"40\" fill=\"#e8e8e8\">\r\n                        <animate attributeName=\"height\" values=\"50;70;30;50\" keyTimes=\"0;0.33;0.66;1\" dur=\"5.2631578947368425s\" repeatCount=\"indefinite\" calcMode=\"spline\" keySplines=\"0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1\" begin=\"-2.1052631578947367s\"></animate>\r\n                        </rect><rect x=\"35\" y=\"15\" width=\"10\" height=\"40\" fill=\"#dce4eb\">\r\n                        <animate attributeName=\"height\" values=\"50;70;30;50\" keyTimes=\"0;0.33;0.66;1\" dur=\"5.2631578947368425s\" repeatCount=\"indefinite\" calcMode=\"spline\" keySplines=\"0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1\" begin=\"-1.0526315789473684s\"></animate>\r\n                        </rect><rect x=\"55\" y=\"15\" width=\"10\" height=\"40\" fill=\"#bbcedd\">\r\n                        <animate attributeName=\"height\" values=\"50;70;30;50\" keyTimes=\"0;0.33;0.66;1\" dur=\"5.2631578947368425s\" repeatCount=\"indefinite\" calcMode=\"spline\" keySplines=\"0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1\" begin=\"-3.1578947368421053s\"></animate>\r\n                        </rect><rect x=\"75\" y=\"15\" width=\"10\" height=\"40\" fill=\"#85a2b6\">\r\n                        <animate attributeName=\"height\" values=\"50;70;30;50\" keyTimes=\"0;0.33;0.66;1\" dur=\"5.2631578947368425s\" repeatCount=\"indefinite\" calcMode=\"spline\" keySplines=\"0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1\" begin=\"-5.2631578947368425s\"></animate>\r\n                        </rect></g>\r\n                    </svg>\r\n                </ng-template>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-lg-6\">\r\n            <div class=\"card card-body\">\r\n                <div class=\"fw-bold mb-4\">\r\n                    IFS <small class=\"text-muted font-size-12\">(Fréquence des interruptions de l'année en cours)</small>\r\n                    <div class=\"float-end\">\r\n                        <ul class=\"nav nav-pills\">\r\n                        <li class=\"nav-item\">\r\n                            <a class=\"nav-link py-1 px-2\" href=\"javascript: void(0);\" (click)=\"ReportIFS(false)\"\r\n                            [ngClass]=\"{'active': IFSType==false}\">Coupeur</a>\r\n                        </li>\r\n                        <li class=\"nav-item\">\r\n                            <a class=\"nav-link font-size-12 py-1 px-2\" href=\"javascript: void(0);\" (click)=\"ReportIFS()\"\r\n                                [ngClass]=\"{'active': IFSType}\">Incident</a>\r\n                        </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <ng-container *ngIf=\"teamsIFSCharts$ | async as chart;else teamsIFSChartsLoading\">\r\n                    <apx-chart\r\n                        [series]=\"chart.series\"\r\n                        [chart]=\"chart.chart\"\r\n                        [xaxis]=\"chart.xaxis\"\r\n                        [yaxis]=\"chart.yaxis\"\r\n                        [stroke]=\"chart.stroke\"\r\n                        [tooltip]=\"chart.tooltip\"\r\n                        [dataLabels]=\"chart.dataLabels\"\r\n                        [colors]=\"chart.colors\"\r\n                        ></apx-chart>\r\n                </ng-container>\r\n                <ng-template #teamsIFSChartsLoading>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"margin: auto; opacity: 0.2; display: block;\" width=\"200px\" height=\"310px\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\">\r\n                        <g transform=\"rotate(180 50 50)\"><rect x=\"15\" y=\"15\" width=\"10\" height=\"40\" fill=\"#e8e8e8\">\r\n                        <animate attributeName=\"height\" values=\"50;70;30;50\" keyTimes=\"0;0.33;0.66;1\" dur=\"5.2631578947368425s\" repeatCount=\"indefinite\" calcMode=\"spline\" keySplines=\"0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1\" begin=\"-2.1052631578947367s\"></animate>\r\n                        </rect><rect x=\"35\" y=\"15\" width=\"10\" height=\"40\" fill=\"#dce4eb\">\r\n                        <animate attributeName=\"height\" values=\"50;70;30;50\" keyTimes=\"0;0.33;0.66;1\" dur=\"5.2631578947368425s\" repeatCount=\"indefinite\" calcMode=\"spline\" keySplines=\"0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1\" begin=\"-1.0526315789473684s\"></animate>\r\n                        </rect><rect x=\"55\" y=\"15\" width=\"10\" height=\"40\" fill=\"#bbcedd\">\r\n                        <animate attributeName=\"height\" values=\"50;70;30;50\" keyTimes=\"0;0.33;0.66;1\" dur=\"5.2631578947368425s\" repeatCount=\"indefinite\" calcMode=\"spline\" keySplines=\"0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1\" begin=\"-3.1578947368421053s\"></animate>\r\n                        </rect><rect x=\"75\" y=\"15\" width=\"10\" height=\"40\" fill=\"#85a2b6\">\r\n                        <animate attributeName=\"height\" values=\"50;70;30;50\" keyTimes=\"0;0.33;0.66;1\" dur=\"5.2631578947368425s\" repeatCount=\"indefinite\" calcMode=\"spline\" keySplines=\"0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1\" begin=\"-5.2631578947368425s\"></animate>\r\n                        </rect></g>\r\n                    </svg>\r\n                </ng-template>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-lg-6\">\r\n            <div class=\"card card-body\">\r\n                <div class=\"fw-bold mb-4\">\r\n                    END <small class=\"text-muted font-size-12\">(année en cours)</small>\r\n                    <div class=\"float-end\">\r\n                        <ul class=\"nav nav-pills\">\r\n                        <li class=\"nav-item\">\r\n                            <a class=\"nav-link py-1 px-2\" href=\"javascript: void(0);\" (click)=\"ReportEND(false)\"\r\n                            [ngClass]=\"{'active': ENDType==false}\">Coupeur</a>\r\n                        </li>\r\n                        <li class=\"nav-item\">\r\n                            <a class=\"nav-link font-size-12 py-1 px-2\" href=\"javascript: void(0);\" (click)=\"ReportEND()\"\r\n                                [ngClass]=\"{'active': ENDType}\">Incident</a>\r\n                        </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <ng-container *ngIf=\"teamsENDCharts$ | async as chart;else teamsENDChartsLoading\">\r\n                    <apx-chart\r\n                        [series]=\"chart.series\"\r\n                        [chart]=\"chart.chart\"\r\n                        [xaxis]=\"chart.xaxis\"\r\n                        [yaxis]=\"chart.yaxis\"\r\n                        [stroke]=\"chart.stroke\"\r\n                        [tooltip]=\"chart.tooltip\"\r\n                        [dataLabels]=\"chart.dataLabels\"\r\n                        [colors]=\"chart.colors\"\r\n                    ></apx-chart>\r\n                </ng-container>\r\n                <ng-template #teamsENDChartsLoading>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"margin: auto; opacity: 0.2; display: block;\" width=\"200px\" height=\"310px\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\">\r\n                        <g transform=\"rotate(180 50 50)\"><rect x=\"15\" y=\"15\" width=\"10\" height=\"40\" fill=\"#e8e8e8\">\r\n                        <animate attributeName=\"height\" values=\"50;70;30;50\" keyTimes=\"0;0.33;0.66;1\" dur=\"5.2631578947368425s\" repeatCount=\"indefinite\" calcMode=\"spline\" keySplines=\"0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1\" begin=\"-2.1052631578947367s\"></animate>\r\n                        </rect><rect x=\"35\" y=\"15\" width=\"10\" height=\"40\" fill=\"#dce4eb\">\r\n                        <animate attributeName=\"height\" values=\"50;70;30;50\" keyTimes=\"0;0.33;0.66;1\" dur=\"5.2631578947368425s\" repeatCount=\"indefinite\" calcMode=\"spline\" keySplines=\"0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1\" begin=\"-1.0526315789473684s\"></animate>\r\n                        </rect><rect x=\"55\" y=\"15\" width=\"10\" height=\"40\" fill=\"#bbcedd\">\r\n                        <animate attributeName=\"height\" values=\"50;70;30;50\" keyTimes=\"0;0.33;0.66;1\" dur=\"5.2631578947368425s\" repeatCount=\"indefinite\" calcMode=\"spline\" keySplines=\"0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1\" begin=\"-3.1578947368421053s\"></animate>\r\n                        </rect><rect x=\"75\" y=\"15\" width=\"10\" height=\"40\" fill=\"#85a2b6\">\r\n                        <animate attributeName=\"height\" values=\"50;70;30;50\" keyTimes=\"0;0.33;0.66;1\" dur=\"5.2631578947368425s\" repeatCount=\"indefinite\" calcMode=\"spline\" keySplines=\"0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1\" begin=\"-5.2631578947368425s\"></animate>\r\n                        </rect></g>\r\n                    </svg>\r\n                </ng-template>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-lg-6\" *ngIf=\"teamsAnomalies$ | async as teamsAnomalies\">\r\n            <div class=\"card card-body\">\r\n                <div class=\"fw-bold mb-4\">Taux de correction des anomalies</div>\r\n                <apx-chart\r\n                    [series]=\"teamsAnomalies.series\"\r\n                    [chart]=\"teamsAnomalies.chart\"\r\n                    [dataLabels]=\"teamsAnomalies.dataLabels\"\r\n                    [plotOptions]=\"teamsAnomalies.plotOptions\"\r\n                    [responsive]=\"teamsAnomalies.responsive\"\r\n                    [xaxis]=\"teamsAnomalies.xaxis\"\r\n                    [legend]=\"teamsAnomalies.legend\"\r\n                    [fill]=\"teamsAnomalies.fill\"\r\n                ></apx-chart>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div> <!-- container-fluid -->\r\n"],"names":[],"sourceRoot":"webpack:///"}