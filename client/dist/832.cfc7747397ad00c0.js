"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[832],{2036:(A,E,i)=>{i.d(E,{a:()=>e});const e=["JAN","F\xc9V","MAR","AVR","MAI","JUN","JUL","AO\xdb","SEP","OCT","NOV","D\xc9C"]},2008:(A,E,i)=>{i.d(E,{T:()=>Y});var e=i(3668),d=i(9133),f=i(4038),x=i(7686),h=i(9785),u=i(7317),s=i(6019),v=i(5630),c=i(6015);function r(n,l){1&n&&(e.\u0275\u0275elementStart(0,"td",15),e.\u0275\u0275text(1," Chargement... "),e.\u0275\u0275elementEnd())}function p(n,l){1&n&&(e.\u0275\u0275elementStart(0,"td",15),e.\u0275\u0275text(1," Aucune donn\xe9e trouv\xe9e ! "),e.\u0275\u0275elementEnd())}function m(n,l){1&n&&e.\u0275\u0275element(0,"i",24)}const g=function(n){return["/users/details",n]};function I(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"a",25),e.\u0275\u0275elementStart(1,"div",26),e.\u0275\u0275elementStart(2,"span",27),e.\u0275\u0275element(3,"i",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("routerLink",a.authService.isAuthorized("users_details")?e.\u0275\u0275pureFunction1(2,g,t.createdBy.id):null),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.createdBy.fullName," ")}}const O=function(n){return["/edges/details",n]};function M(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"a",29),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("routerLink",a.authService.isAuthorized("edges_details")?e.\u0275\u0275pureFunction1(3,O,t.edge.id):null),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("",t.edge.node_a.titre," - ",t.edge.node_b.titre,"")}}const D=function(n){return["/anomalies/details",n]};function w(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"a",35),e.\u0275\u0275element(1,"i",36),e.\u0275\u0275text(2," Voir "),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(1,D,t.id))}}const P=function(n){return["/anomalies/update",n]};function B(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"a",35),e.\u0275\u0275element(1,"i",37),e.\u0275\u0275text(2," Modifier "),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(1,P,t.id))}}function L(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",38),e.\u0275\u0275listener("click",function(o){e.\u0275\u0275restoreView(t);const _=e.\u0275\u0275nextContext(2).$implicit;return e.\u0275\u0275nextContext(2).anomalyService.deleteItem(_.id,o.target)}),e.\u0275\u0275element(1,"i",39),e.\u0275\u0275text(2," Supprimer "),e.\u0275\u0275elementEnd()}}function N(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",30),e.\u0275\u0275element(1,"i",31),e.\u0275\u0275elementStart(2,"div",32),e.\u0275\u0275template(3,w,3,3,"a",33),e.\u0275\u0275template(4,B,3,3,"a",33),e.\u0275\u0275template(5,L,3,0,"a",34),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.authService.isAuthorized("anomalies_details")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.authService.isAuthorized("anomalies_update")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.authService.isAuthorized("anomalies_delete"))}}function k(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",17),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275elementStart(2,"ui-switch",18),e.\u0275\u0275listener("changeEvent",function(o){const S=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext(2).anomalyService.updateStatus(o,S.id)}),e.\u0275\u0275template(3,m,1,0,"i",19),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td"),e.\u0275\u0275elementStart(5,"span"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275template(10,I,5,4,"a",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"td"),e.\u0275\u0275template(12,M,2,5,"a",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"td"),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"td",22),e.\u0275\u0275template(17,N,6,3,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=l.$implicit,a=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",!!t.status&&t.status)("disabled",!a.authService.isAuthorized("missions_update"))("loading",a.anomalyService.statusLoading===t.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.anomalyService.statusLoading===t.id),e.\u0275\u0275advance(2),e.\u0275\u0275classMapInterpolate1("badge badge-pill font-size-11 badge-soft-",a.anomalyService.getSeverity(t.severity,!0),""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",a.anomalyService.getSeverity(t.severity,!1)," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.title),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.createdBy),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.edge),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind3(15,13,t.createdAt,"medium","Africa/Casablanca")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",a.authService.isAuthorized("anomalies_details")||a.authService.isAuthorized("anomalies_update")||a.authService.isAuthorized("anomalies_delete"))}}function R(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,k,18,17,"tr",16),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(2,1,t.anomalyService.anomalies$))}}function F(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",41),e.\u0275\u0275elementStart(1,"div",42),e.\u0275\u0275elementStart(2,"div",43),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",42),e.\u0275\u0275elementStart(5,"div",44),e.\u0275\u0275elementStart(6,"ngb-pagination",45),e.\u0275\u0275listener("pageChange",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).anomalyService.page=o})("pageChange",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).anomalyService.onPaginate(o)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext().ngIf,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate3(" Affichage de ",t.startIndex," \xe0 ",t.endIndex," de ",t.totalRecords," entr\xe9es "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",t.totalRecords)("page",a.anomalyService.page)("pageSize",a.anomalyService.pageSize)("maxSize",5)}}function V(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,F,7,7,"div",40),e.\u0275\u0275elementContainerEnd()),2&n){const t=l.ngIf,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.totalRecords>a.anomalyService.pageSize)}}function z(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"ng-option",6),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=l.$implicit;e.\u0275\u0275property("value",t.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.label," ")}}function $(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"ng-option",6),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=l.$implicit;e.\u0275\u0275property("value",t["@id"]),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("",t.node_a.titre," - ",t.node_b.titre,"")}}function j(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Ce champ est obligatoire."),e.\u0275\u0275elementEnd())}function U(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",72),e.\u0275\u0275template(1,j,2,0,"span",13),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get("edge").errors.required)}}function K(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Ce champ est obligatoire."),e.\u0275\u0275elementEnd())}function W(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",72),e.\u0275\u0275template(1,K,2,0,"span",13),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get("title").errors.required)}}function J(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",55),e.\u0275\u0275elementStart(1,"td",56),e.\u0275\u0275elementStart(2,"div",57),e.\u0275\u0275elementStart(3,"div",58),e.\u0275\u0275elementStart(4,"label"),e.\u0275\u0275text(5,"Statut"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"ng-select",59),e.\u0275\u0275elementStart(7,"ng-option",6),e.\u0275\u0275text(8,"Termin\xe9"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"ng-option",6),e.\u0275\u0275text(10,"En attente"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",60),e.\u0275\u0275elementStart(12,"label"),e.\u0275\u0275text(13,"Priorit\xe9"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"ng-select",61),e.\u0275\u0275template(15,z,2,2,"ng-option",62),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",63),e.\u0275\u0275elementStart(17,"label"),e.\u0275\u0275text(18,"Tron\xe7on"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"ng-select",64),e.\u0275\u0275listener("open",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return!(o.currentEdge&&o.currentEdge.department&&o.currentEdge.department)&&o.AlertEdgeChange()}),e.\u0275\u0275template(20,$,2,3,"ng-option",62),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(22,U,2,1,"div",65),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"td"),e.\u0275\u0275elementStart(24,"div"),e.\u0275\u0275elementStart(25,"label",66),e.\u0275\u0275text(26,"Anomalie"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(27,"textarea",67),e.\u0275\u0275template(28,W,2,1,"div",65),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"td"),e.\u0275\u0275elementStart(30,"div",68),e.\u0275\u0275elementStart(31,"div",69),e.\u0275\u0275elementStart(32,"button",70),e.\u0275\u0275listener("click",function(){const _=e.\u0275\u0275restoreView(t).index;return e.\u0275\u0275nextContext(2).removeAnomaly(_)}),e.\u0275\u0275element(33,"i",71),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=l.$implicit,a=l.index,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("formGroupName",a),e.\u0275\u0275advance(6),e.\u0275\u0275property("searchable",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("value",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",!1),e.\u0275\u0275advance(5),e.\u0275\u0275property("searchable",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",o.anomalyService.severityOptions),e.\u0275\u0275advance(4),e.\u0275\u0275property("readonly",!(o.currentEdge&&o.currentEdge.department&&o.currentEdge.department)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(21,10,o.anomalyService.edgesInRange$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.showErrors&&t.get("edge").errors),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",o.showErrors&&t.get("title").errors)}}function G(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",46),e.\u0275\u0275elementStart(1,"form",47),e.\u0275\u0275elementStart(2,"table",48),e.\u0275\u0275elementStart(3,"tr"),e.\u0275\u0275elementStart(4,"th",49),e.\u0275\u0275elementStart(5,"div"),e.\u0275\u0275text(6,"Ajouter des anomalies"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td",50),e.\u0275\u0275elementStart(8,"div",51),e.\u0275\u0275elementStart(9,"button",52),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().addAnomaly()}),e.\u0275\u0275element(10,"i",53),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,J,34,12,"tr",54),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t.parentFormGroup),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngForOf",t.anomalies.controls)}}let Y=(()=>{class n{constructor(t,a,o,_,S,C,T){this.service=t,this.fb=a,this.authService=o,this.anomalyService=_,this.config=S,this.route=C,this.viewportScroller=T,this.currentEdge={ANode:null,BNode:null,department:null,type:null,date:null},this.addAlert=new e.EventEmitter}ngOnChanges(t){let a=t.currentEdge;if(a&&a.currentValue){const{ANode:o,BNode:_,department:S,type:C,date:T}=a.currentValue,H=a.previousValue&&JSON.stringify(Object.assign(Object.assign({},a.currentValue),{type:a.previousValue.type}))===JSON.stringify(Object.assign(Object.assign({},a.previousValue),{type:C}));if(o&&""!==o.trim()&&!H&&(this.anomalyService.getRelatedAnomalies(o,_,S,T),this.anomalyService.loading$.pipe().subscribe(b=>{!b&&setTimeout(()=>this.route.fragment.subscribe(y=>y&&this.viewportScroller.scrollToAnchor(y)),50)})),!a.previousValue||a.previousValue.type!=C){let b=this.anomalies;if(b)for(const y of b.controls)"false"!=C?y.enable():y.disable()}}}changeStatus(t){const{ANode:a,BNode:o,department:_,date:S}=this.currentEdge;this.anomalyService.getRelatedAnomalies(a,o,_,S,t)}newAnomaly(){return this.fb.group({severity:[""],status:[!1],edge:["",d.kI.required],title:["",d.kI.required]})}addAnomaly(){this.currentEdge.ANode?null==this.currentEdge.type?this.addAlert.emit({message:"Vous devez choisir le type de coupure !",type:"danger"}):this.anomalies.push(this.newAnomaly()):this.addAlert.emit({message:"Vous devez choisir un Point coupure, pour pouvoir cr\xe9er une anomalie.",type:"danger"})}removeAnomaly(t){this.anomalies.removeAt(t)}AlertEdgeChange(){this.addAlert.emit({message:"Vous devez choisir un Point coupure, pour pouvoir choisir un tron\xe7on !",type:"danger"})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(f.M),e.\u0275\u0275directiveInject(d.qu),e.\u0275\u0275directiveInject(x.$),e.\u0275\u0275directiveInject(f.M),e.\u0275\u0275directiveInject(h.$q),e.\u0275\u0275directiveInject(u.gz),e.\u0275\u0275directiveInject(s.ViewportScroller))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-related-anomalies"]],inputs:{anomalies:"anomalies",parentFormGroup:"parentFormGroup",showErrors:"showErrors",currentEdge:"currentEdge"},outputs:{addAlert:"addAlert"},features:[e.\u0275\u0275NgOnChangesFeature],decls:42,vars:19,consts:[["id","anomalies-list",1,"col-12"],[1,"card","card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"card-title","mb-0"],[1,"form-select",2,"width","max-content",3,"change"],["selected","","value","all"],[3,"value"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],["width","10%"],["width","15%"],["width","50px"],["class","text-center","colspan","8",4,"ngIf"],[4,"ngIf"],["class","col-12",4,"ngIf"],["colspan","8",1,"text-center"],["valign","middle",4,"ngFor","ngForOf"],["valign","middle"],["uncheckedLabel","En attente","checkedLabel","Termin\xe9","checkedTextColor","#fff",3,"checked","disabled","loading","changeEvent"],["class","fa fa-spinner fa-pulse",4,"ngIf"],["target","_blank","class","d-flex align-items-center",3,"routerLink",4,"ngIf"],["target","_blank",3,"routerLink",4,"ngIf"],["align","center"],["ngbDropdown","","container","body","placement","bottom-right",4,"ngIf"],[1,"fa","fa-spinner","fa-pulse"],["target","_blank",1,"d-flex","align-items-center",3,"routerLink"],[1,"header-profile-user","bg-transparent","me-2"],[1,"avatar-title","rounded-circle","bg-transparent","border","text-muted","small"],[1,"fas","fa-user"],["target","_blank",3,"routerLink"],["ngbDropdown","","container","body","placement","bottom-right"],["ngbDropdownToggle","","data-toggle","dropdown","aria-expanded","true",1,"fas","fa-ellipsis-h","dropdown-toggle","c-pointer"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["class","dropdown-item","href","javascript: void(0);",3,"routerLink",4,"ngIf"],["class","dropdown-item text-danger","href","javascript: void(0);",3,"click",4,"ngIf"],["href","javascript: void(0);",1,"dropdown-item",3,"routerLink"],[1,"fas","fa-eye","me-2"],[1,"fas","fa-edit","me-2"],["href","javascript: void(0);",1,"dropdown-item","text-danger",3,"click"],[1,"fas","fa-trash","me-2"],["class","row justify-content-md-between align-items-md-center mt-2",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","maxSize","pageChange"],[1,"col-12"],[1,"card","card-body",3,"formGroup"],["formArrayName","anomalies",1,"table","table-bordered","table-striped","mb-0"],["colspan","2"],["width","69px"],[1,"text-end"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"bx","bx-plus","fs-4","lh-sm"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["width","40%"],[1,"row"],[1,"col-lg-6","mb-3","mb-lg-0"],["formControlName","status","placeholder","Statut..",3,"searchable"],[1,"col-lg-6","mb-lg-0"],["formControlName","severity","placeholder","Priorit\xe9..",3,"searchable"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","mt-2"],["formControlName","edge","placeholder","Tron\xe7on..",3,"readonly","open"],["class","invalid-feedback d-block",4,"ngIf"],["for","input-3"],["formControlName","title","id","input-3","type","text",1,"form-control",2,"height","115px"],[1,"p-0"],[1,"text-center"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"invalid-feedback","d-block"]],template:function(t,a){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"p",3),e.\u0275\u0275text(4,"Anomalies li\xe9es"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"select",4),e.\u0275\u0275listener("change",function(_){return a.changeStatus(_.target.value)}),e.\u0275\u0275elementStart(6,"option",5),e.\u0275\u0275text(7,"Toutes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"option",6),e.\u0275\u0275text(9,"Termin\xe9"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"option",6),e.\u0275\u0275text(11,"En attente"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",7),e.\u0275\u0275elementStart(13,"table",8),e.\u0275\u0275elementStart(14,"thead"),e.\u0275\u0275elementStart(15,"tr"),e.\u0275\u0275elementStart(16,"th",9),e.\u0275\u0275text(17,"Statut"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"th",9),e.\u0275\u0275text(19,"Priorit\xe9"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"th"),e.\u0275\u0275text(21,"Anomalie"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"th",10),e.\u0275\u0275text(23,"Cr\xe9\xe9 par"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"th",10),e.\u0275\u0275text(25,"Tron\xe7on"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"th",10),e.\u0275\u0275text(27,"Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(28,"th",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"tbody"),e.\u0275\u0275elementStart(30,"tr"),e.\u0275\u0275template(31,r,2,0,"td",12),e.\u0275\u0275pipe(32,"async"),e.\u0275\u0275pipe(33,"async"),e.\u0275\u0275template(34,p,2,0,"td",12),e.\u0275\u0275pipe(35,"async"),e.\u0275\u0275pipe(36,"async"),e.\u0275\u0275pipe(37,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(38,R,3,3,"ng-container",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(39,V,2,1,"ng-container",13),e.\u0275\u0275pipe(40,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(41,G,12,2,"div",14)),2&t&&(e.\u0275\u0275advance(8),e.\u0275\u0275property("value",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",!1),e.\u0275\u0275advance(21),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(32,7,a.currentEdge&&a.currentEdge.ANode&&a.currentEdge.ANode&&!e.\u0275\u0275pipeBind1(33,9,a.anomalyService.anomalies$)&&a.anomalyService.loading$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!(a.currentEdge&&a.currentEdge.ANode&&a.currentEdge.ANode)||e.\u0275\u0275pipeBind1(35,11,e.\u0275\u0275pipeBind1(36,13,a.anomalyService.anomalies$)&&0===e.\u0275\u0275pipeBind1(37,15,a.anomalyService.anomalies$).length&&a.anomalyService.loaded$)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",a.currentEdge&&a.currentEdge.ANode&&a.currentEdge.ANode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(40,17,a.anomalyService.pagination$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.currentEdge&&a.currentEdge.type&&"false"!=a.currentEdge.type))},directives:[d.YN,d.Kr,s.NgIf,s.NgForOf,v.ob,u.yS,c.jt,c.iD,c.Vi,c.N9,d._Y,d.JL,d.sg,d.CE,d.x0,h.w9,d.JJ,d.u,h.xv,d.Fj],pipes:[s.AsyncPipe,s.DatePipe],encapsulation:2}),n})()},6831:(A,E,i)=>{i.d(E,{U:()=>h});var e=i(5630),d=i(9922),f=i(7317),x=i(3668);let h=(()=>{class u{}return u.\u0275fac=function(v){return new(v||u)},u.\u0275mod=x.\u0275\u0275defineNgModule({type:u}),u.\u0275inj=x.\u0275\u0275defineInjector({imports:[[d.m,f.Bz,e.Su.forRoot({size:"small"})]]}),u})()},6865:(A,E,i)=>{i.d(E,{c:()=>c});var e=i(3668),d=i(6019);function f(r,p){if(1&r&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",4),e.\u0275\u0275element(2,"i",5),e.\u0275\u0275elementStart(3,"span",6),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&r){const m=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2("",m.total-m.undone,"/",m.total," Anomalies")}}function x(r,p){1&r&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",4),e.\u0275\u0275element(2,"i",5),e.\u0275\u0275elementStart(3,"span",6),e.\u0275\u0275text(4,"Liste des anomalies"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd())}function h(r,p){if(1&r&&e.\u0275\u0275template(0,x,5,0,"ng-container",0),2&r){const m=e.\u0275\u0275nextContext(),g=e.\u0275\u0275reference(4);e.\u0275\u0275property("ngIf",m.undone>0&&m.undone==m.total)("ngIfElse",g)}}function u(r,p){1&r&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",7),e.\u0275\u0275element(2,"i",8),e.\u0275\u0275elementStart(3,"span",6),e.\u0275\u0275text(4,"Pas d'anomalies"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd())}function s(r,p){if(1&r&&e.\u0275\u0275template(0,u,5,0,"ng-container",0),2&r){const m=e.\u0275\u0275nextContext(),g=e.\u0275\u0275reference(6);e.\u0275\u0275property("ngIf",0==m.total||null==m.total)("ngIfElse",g)}}function v(r,p){1&r&&(e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275element(1,"i",10),e.\u0275\u0275elementStart(2,"span",6),e.\u0275\u0275text(3,"Toutes r\xe9solues"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}let c=(()=>{class r{constructor(){this.isLink=!0}}return r.\u0275fac=function(m){return new(m||r)},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["anomalies-badge"]],inputs:{undone:"undone",total:"total",isLink:"isLink"},decls:7,vars:2,consts:[[4,"ngIf","ngIfElse"],["NonResolved",""],["NoAnomalies",""],["AllResolved",""],[1,"badge","badge-soft-danger","c-pointer","rounded-pill","border-danger","border","px-3","py-2","font-size-13","w-100"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"text-body"],[1,"badge","badge-soft-info","c-pointer","rounded-pill","border-info","border","px-3","py-2","font-size-13","w-100"],[1,"fas","fa-info-circle","me-2"],[1,"badge","badge-soft-success","c-pointer","rounded-pill","border-success","border","px-3","py-2","font-size-13","w-100"],[1,"fas","fa-check-circle","me-2"]],template:function(m,g){if(1&m&&(e.\u0275\u0275template(0,f,5,2,"ng-container",0),e.\u0275\u0275template(1,h,1,2,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(3,s,1,2,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(5,v,4,0,"ng-template",null,3,e.\u0275\u0275templateRefExtractor)),2&m){const I=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngIf",g.undone>0&&g.undone!=g.total||!g.isLink&&g.undone>0&&g.undone==g.total)("ngIfElse",I)}},directives:[d.NgIf],encapsulation:2}),r})()},4287:(A,E,i)=>{i.d(E,{V:()=>u});var e=i(3668),d=i(2036),f=i(9133),x=i(6019);function h(s,v){if(1&s&&(e.\u0275\u0275elementStart(0,"option",4),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&s){const c=v.$implicit;e.\u0275\u0275property("value",c.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(c.label)}}let u=(()=>{class s{constructor(){this.selectionChange=new e.EventEmitter,this.months=[]}ngOnInit(){const r=(new Date).getMonth()+1;for(let p=0;p<12;p++){let m=r-p;m<=0&&(m+=12),this.months.push({value:m,label:d.a[m-1]})}this.selectedMonth=r,this.onSelectionChange(r.toString())}onSelectionChange(c){this.selectionChange.emit(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275cmp=e.\u0275\u0275defineComponent({type:s,selectors:[["months-selector"]],outputs:{selectionChange:"selectionChange"},decls:5,vars:2,consts:[[1,"input-group","input-group-sm"],[1,"form-select","form-select-sm",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group-text"],[3,"value"]],template:function(c,r){1&c&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"select",1),e.\u0275\u0275listener("ngModelChange",function(m){return r.selectedMonth=m})("change",function(m){return r.onSelectionChange(m.target.value)}),e.\u0275\u0275template(2,h,2,2,"option",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",3),e.\u0275\u0275text(4,"Mois"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&c&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",r.selectedMonth),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",r.months))},directives:[f.EJ,f.JJ,f.On,x.NgForOf,f.YN,f.Kr],encapsulation:2}),s})()}}]);