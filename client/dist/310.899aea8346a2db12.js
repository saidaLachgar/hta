"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[310],{9167:(D,I,l)=>{l.d(I,{p:()=>e});var i=l(3668),S=l(7317),o=l(7686);let e=(()=>{class v{constructor(p,m){this.router=p,this.authService=m}canActivate(p,m){return!!this.authService.isAuthorized(p.data.access)||(alert("acc\xe8s refus\xe9"),this.router.navigate(["/dashboard"]),!1)}}return v.\u0275fac=function(p){return new(p||v)(i.\u0275\u0275inject(S.F0),i.\u0275\u0275inject(o.$))},v.\u0275prov=i.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},8310:(D,I,l)=>{l.r(I),l.d(I,{userModule:()=>Ue});var i=l(7317),S=l(9167),o=l(9133),e=l(3668),v=l(5565),b=l(1950),p=l(6019),m=l(9785);function E(t,a){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Ce champ est obligatoire."),e.\u0275\u0275elementEnd())}function f(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",30),e.\u0275\u0275template(1,E,2,0,"span",31),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userService.fullName.errors.required)}}function U(t,a){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Ce champ est obligatoire."),e.\u0275\u0275elementEnd())}function M(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",30),e.\u0275\u0275template(1,U,2,0,"span",31),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userService.username.errors.required)}}function x(t,a){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Ce champ est obligatoire."),e.\u0275\u0275elementEnd())}function F(t,a){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Le mot de passe doit comporter au moins 6 caract\xe8res."),e.\u0275\u0275elementEnd())}function A(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",30),e.\u0275\u0275template(1,x,2,0,"span",31),e.\u0275\u0275template(2,F,2,0,"span",31),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userService.password.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userService.password.errors.minlength)}}function R(t,a){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Ce champ est obligatoire."),e.\u0275\u0275elementEnd())}function B(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",30),e.\u0275\u0275template(1,R,2,0,"span",31),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userService.roles.errors.required)}}function $(t,a){1&t&&e.\u0275\u0275element(0,"i",32)}const h=function(t){return{"is-invalid":t}};let k=(()=>{class t{constructor(r,n){this.fb=r,this.userService=n,this.breadCrumbItems=[{label:"Utilisateurs"},{label:"Nouvel utilisateur",active:!0}],n.loadTeams(),n.userForm=this.fb.group({fullName:["",o.kI.required],username:["",o.kI.required],password:["",[o.kI.required,o.kI.minLength(6)]],roles:["",o.kI.required],team:[""]})}}return t.\u0275fac=function(r){return new(r||t)(e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(v.K))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-user-create"]],decls:57,vars:30,consts:[[1,"container-fluid"],["title","Nouvel utilisateur",3,"Loading","breadcrumbItems"],[1,"row","mt-4",3,"formGroup","ngSubmit"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"mb-3","row"],["for","name-input",1,"col-md-2","col-form-label"],[1,"col-md-10"],["formControlName","fullName","type","text","id","name-input",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","text-input",1,"col-md-2","col-form-label"],["formControlName","username","type","text","id","text-input",1,"form-control",3,"ngClass"],["for","password-input",1,"col-md-2","col-form-label"],["type","password","formControlName","password","id","password-input",1,"form-control",3,"ngClass"],["formControlName","team","bindLabel","titre","bindValue","@id","typeToSearchText","Veuillez saisir 2 caract\xe8res ou plus",3,"items","minTermLength","loading","typeahead"],[1,"font-size-14",3,"ngClass"],[1,"form-check"],["type","radio","formControlName","roles","id","role1","value","ROLE_SUPER_ADMIN",1,"form-check-input"],["for","role1",1,"form-check-label"],["type","radio","formControlName","roles","id","role2","value","ROLE_ADMIN",1,"form-check-input"],["for","role2",1,"form-check-label"],["type","radio","formControlName","roles","id","role3","value","ROLE_USER",1,"form-check-input"],["for","role3",1,"form-check-label"],[1,"row","justify-content-end"],[1,"col-auto"],["routerLink","/users",1,"btn","btn-light","me-2"],[1,"fas","fa-arrow-circle-left","me-1"],[1,"btn","btn-primary"],["class","bx bx-loader-alt fa-spin",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"bx","bx-loader-alt","fa-spin"]],template:function(r,n){1&r&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"form",2),e.\u0275\u0275listener("ngSubmit",function(){return n.userService.onCreate()}),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275elementStart(8,"label",7),e.\u0275\u0275text(9,"Nom"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",8),e.\u0275\u0275element(11,"input",9),e.\u0275\u0275template(12,f,2,1,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",6),e.\u0275\u0275elementStart(14,"label",11),e.\u0275\u0275text(15,"Matricule"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",8),e.\u0275\u0275element(17,"input",12),e.\u0275\u0275template(18,M,2,1,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",6),e.\u0275\u0275elementStart(20,"label",13),e.\u0275\u0275text(21,"Mot de passe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",8),e.\u0275\u0275element(23,"input",14),e.\u0275\u0275template(24,A,3,2,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",6),e.\u0275\u0275elementStart(26,"label",7),e.\u0275\u0275text(27,"\xc9quipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",8),e.\u0275\u0275element(29,"ng-select",15),e.\u0275\u0275pipe(30,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",6),e.\u0275\u0275elementStart(32,"div",3),e.\u0275\u0275elementStart(33,"h5",16),e.\u0275\u0275text(34,"R\xf4le"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"div",17),e.\u0275\u0275element(36,"input",18),e.\u0275\u0275elementStart(37,"label",19),e.\u0275\u0275text(38," Super Admin "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"div",17),e.\u0275\u0275element(40,"input",20),e.\u0275\u0275elementStart(41,"label",21),e.\u0275\u0275text(42,"Admin"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"div",17),e.\u0275\u0275element(44,"input",22),e.\u0275\u0275elementStart(45,"label",23),e.\u0275\u0275text(46,"User"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(47,B,2,1,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"div",24),e.\u0275\u0275elementStart(49,"div",25),e.\u0275\u0275elementStart(50,"button",26),e.\u0275\u0275element(51,"i",27),e.\u0275\u0275text(52,"Retour \xe0 la liste"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"button",28),e.\u0275\u0275template(54,$,1,0,"i",29),e.\u0275\u0275pipe(55,"async"),e.\u0275\u0275text(56," Ajouter"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&r&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("Loading",e.\u0275\u0275pipeBind1(2,16,n.userService.loading$))("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",n.userService.userForm),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(22,h,n.userService.fullName.invalid&&n.userService.submitted)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.userService.submitted&&n.userService.fullName.errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(24,h,n.userService.username.invalid&&n.userService.submitted)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.userService.submitted&&n.userService.username.errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(26,h,n.userService.password.invalid&&n.userService.submitted)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.userService.submitted&&n.userService.password.errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("items",e.\u0275\u0275pipeBind1(30,18,n.userService.teams$))("minTermLength",2)("loading",n.userService.teamLoading)("typeahead",n.userService.teamInput$),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(28,h,n.userService.roles.invalid&&n.userService.submitted)),e.\u0275\u0275advance(14),e.\u0275\u0275property("ngIf",n.userService.roles.invalid&&n.userService.submitted),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(55,20,n.userService.loading$)))},directives:[b.V,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,p.NgClass,p.NgIf,m.w9,o._,i.rH],pipes:[p.AsyncPipe],encapsulation:2}),t})();var d=l(7686);let u=(()=>{class t{transform(r,n,s){return r&&n&&s?r.toString().replace(new RegExp(n,"g"),s):r}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=e.\u0275\u0275definePipe({name:"replace",type:t,pure:!0}),t})();const g=function(t){return["/teams/details",t]};function _(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"a",12),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("routerLink",r.authService.isAuthorized("teams_details")?e.\u0275\u0275pureFunction1(2,g,r.user.team.id):null),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(r.user.team.titre)}}function y(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"tbody"),e.\u0275\u0275elementStart(1,"tr"),e.\u0275\u0275elementStart(2,"th",9),e.\u0275\u0275text(3,"Nom :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"tr"),e.\u0275\u0275elementStart(7,"th",9),e.\u0275\u0275text(8,"Matricule :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"tr"),e.\u0275\u0275elementStart(12,"th",9),e.\u0275\u0275text(13,"R\xf4le :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"td"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"replace"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"tr",10),e.\u0275\u0275elementStart(18,"th",9),e.\u0275\u0275text(19,"\xc9quipe :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"td"),e.\u0275\u0275template(21,_,2,4,"a",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(r.user.fullName),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(r.user.username),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind3(16,4,null==r.user?null:r.user.roles,"_"," ")),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",r.user.team)}}let T=(()=>{class t{constructor(r,n,s){this.authService=r,this.route=n,this.userService=s;let c=this.route.snapshot.paramMap.get("id");s.getByKey(c).subscribe(w=>this.user=w)}}return t.\u0275fac=function(r){return new(r||t)(e.\u0275\u0275directiveInject(d.$),e.\u0275\u0275directiveInject(i.gz),e.\u0275\u0275directiveInject(v.K))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-user-details"]],decls:11,vars:5,consts:[[1,"container-fluid"],["title","D\xe9tails de l'utilisateur",3,"Loading","breadcrumbItems"],[1,"card","mt-4"],[1,"card-body","pt-5"],[1,"table-responsive"],[1,"table","table-nowrap","mb-0"],[4,"ngIf"],["routerLink","/users",1,"btn","btn-light","mt-4","float-end"],[1,"fas","fa-arrow-circle-left","me-1"],["scope","row"],["valign","middle"],["target","_blank","rel","noopener noreferrer",3,"routerLink",4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"routerLink"]],template:function(r,n){1&r&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"table",5),e.\u0275\u0275template(7,y,22,8,"tbody",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",7),e.\u0275\u0275element(9,"i",8),e.\u0275\u0275text(10,"Retour \xe0 la liste"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&r&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("Loading",e.\u0275\u0275pipeBind1(2,3,n.userService.loading$))("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",n.user))},directives:[b.V,p.NgIf,i.rH,i.yS],pipes:[p.AsyncPipe,u],encapsulation:2}),t})();function C(t,a){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Ce champ est obligatoire."),e.\u0275\u0275elementEnd())}function L(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275template(1,C,2,0,"span",21),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userService.fullName.errors.required)}}function z(t,a){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Ce champ est obligatoire."),e.\u0275\u0275elementEnd())}function P(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275template(1,z,2,0,"span",21),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userService.username.errors.required)}}function K(t,a){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Ce champ est obligatoire."),e.\u0275\u0275elementEnd())}function V(t,a){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Le mot de passe doit comporter au moins 6 caract\xe8res."),e.\u0275\u0275elementEnd())}function W(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275template(1,K,2,0,"span",21),e.\u0275\u0275template(2,V,2,0,"span",21),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userService.password.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userService.password.errors.minlength)}}function J(t,a){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Ce champ est obligatoire."),e.\u0275\u0275elementEnd())}function G(t,a){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Le mot de passe doit comporter au moins 6 caract\xe8res."),e.\u0275\u0275elementEnd())}function Y(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275template(1,J,2,0,"span",21),e.\u0275\u0275template(2,G,2,0,"span",21),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userService.password.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userService.password.errors.minlength)}}function H(t,a){1&t&&e.\u0275\u0275element(0,"i",22)}const j=function(t){return{"is-invalid":t}};let Q=(()=>{class t{constructor(r,n){this.route=r,this.userService=n,this.breadCrumbItems=[{label:"Utilisateurs"},{label:"Profile",active:!0}],this.id=JSON.parse(localStorage.getItem("currentUser")).id,n.userForm=new o.cw({fullName:new o.NI("",o.kI.required),username:new o.NI("",o.kI.required),password:new o.NI("",[o.kI.required,o.kI.minLength(6)]),confirmPassword:new o.NI("",[o.kI.required])},[q.MatchValidator("password","confirmPassword")]),this.userService.getByKey(this.id).subscribe(s=>{n.loadTeams([s.team]),n.userForm.patchValue({fullName:s.fullName,username:s.username})})}}return t.\u0275fac=function(r){return new(r||t)(e.\u0275\u0275directiveInject(i.gz),e.\u0275\u0275directiveInject(v.K))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-user-profile"]],decls:38,vars:27,consts:[[1,"container-fluid"],["title","Profile",3,"Loading","breadcrumbItems"],[1,"row","mt-4",3,"formGroup","ngSubmit"],[1,"col-12",3,"disabled"],[1,"card","card-body"],[1,"row"],[1,"mb-3","row"],["for","name-input",1,"col-md-2","col-form-label"],[1,"col-md-10"],["formControlName","fullName","type","text","id","name-input",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","text-input",1,"col-md-2","col-form-label"],["formControlName","username","type","text","id","text-input",1,"form-control",3,"ngClass"],["for","password-input",1,"col-md-2","col-form-label"],["type","password","formControlName","password","id","password-input",1,"form-control",3,"ngClass"],["type","password","formControlName","confirmPassword","id","password-input",1,"form-control",3,"ngClass"],[1,"row","justify-content-end"],[1,"col-auto"],[1,"btn","btn-primary"],["class","bx bx-loader-alt fa-spin",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"bx","bx-loader-alt","fa-spin"]],template:function(r,n){1&r&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"form",2),e.\u0275\u0275listener("ngSubmit",function(){return n.userService.onUpdate(n.id,!0)}),e.\u0275\u0275elementStart(4,"fieldset",3),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementStart(6,"div",4),e.\u0275\u0275elementStart(7,"div",5),e.\u0275\u0275elementStart(8,"div",6),e.\u0275\u0275elementStart(9,"label",7),e.\u0275\u0275text(10,"Nom"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",8),e.\u0275\u0275element(12,"input",9),e.\u0275\u0275template(13,L,2,1,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",6),e.\u0275\u0275elementStart(15,"label",11),e.\u0275\u0275text(16,"Matricule"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",8),e.\u0275\u0275element(18,"input",12),e.\u0275\u0275template(19,P,2,1,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",6),e.\u0275\u0275elementStart(21,"label",13),e.\u0275\u0275text(22,"Mot de passe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",8),e.\u0275\u0275element(24,"input",14),e.\u0275\u0275template(25,W,3,2,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",6),e.\u0275\u0275elementStart(27,"label",13),e.\u0275\u0275text(28,"Confirmation du mot de passe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",8),e.\u0275\u0275element(30,"input",15),e.\u0275\u0275template(31,Y,3,2,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"div",16),e.\u0275\u0275elementStart(33,"div",17),e.\u0275\u0275elementStart(34,"button",18),e.\u0275\u0275template(35,H,1,0,"i",19),e.\u0275\u0275pipe(36,"async"),e.\u0275\u0275text(37," Sauvegarder"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&r&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("Loading",e.\u0275\u0275pipeBind1(2,13,n.userService.loading$)||n.userService.loading)("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",n.userService.userForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(5,15,n.userService.loading$)||n.userService.loading),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(19,j,n.userService.fullName.invalid&&n.userService.submitted)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.userService.submitted&&n.userService.fullName.errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(21,j,n.userService.username.invalid&&n.userService.submitted)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.userService.submitted&&n.userService.username.errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(23,j,n.userService.password.invalid&&n.userService.submitted)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.userService.submitted&&n.userService.password.errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(25,j,n.userService.password.invalid&&n.userService.submitted)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.userService.submitted&&n.userService.password.errors),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.userService.submitted&&(e.\u0275\u0275pipeBind1(36,17,n.userService.loading$)||n.userService.loading)))},directives:[b.V,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,p.NgClass,p.NgIf],pipes:[p.AsyncPipe],encapsulation:2}),t})();class q{static MatchValidator(a,r){return n=>{const s=n.get(a),c=n.get(r);return s&&c&&s.value!==c.value?{mismatch:!0}:null}}}function X(t,a){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Ce champ est obligatoire."),e.\u0275\u0275elementEnd())}function Z(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275template(1,X,2,0,"span",32),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userService.fullName.errors.required)}}function ee(t,a){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Ce champ est obligatoire."),e.\u0275\u0275elementEnd())}function te(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275template(1,ee,2,0,"span",32),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userService.username.errors.required)}}function ne(t,a){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Ce champ est obligatoire."),e.\u0275\u0275elementEnd())}function re(t,a){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Le mot de passe doit comporter au moins 6 caract\xe8res."),e.\u0275\u0275elementEnd())}function ae(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275template(1,ne,2,0,"span",32),e.\u0275\u0275template(2,re,2,0,"span",32),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userService.password.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userService.password.errors.minlength)}}function ie(t,a){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Ce champ est obligatoire."),e.\u0275\u0275elementEnd())}function oe(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275template(1,ie,2,0,"span",32),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userService.roles.errors.required)}}function le(t,a){1&t&&e.\u0275\u0275element(0,"i",33)}const O=function(t){return{"is-invalid":t}};let se=(()=>{class t{constructor(r,n,s){this.route=r,this.fb=n,this.userService=s,this.breadCrumbItems=[{label:"Utilisateurs"},{label:"Mettre \xe0 jour l'utilisateur",active:!0}],this.id=Number(this.route.snapshot.paramMap.get("id")),s.userForm=this.fb.group({fullName:["",o.kI.required],username:["",o.kI.required],password:["",[o.kI.required,o.kI.minLength(6)]],roles:["",o.kI.required],team:[""]}),this.userService.getByKey(this.id).subscribe(c=>{s.loadTeams([c.team]),s.userForm.setValue({fullName:c.fullName,username:c.username,password:"",roles:c.roles.join(""),team:c.team?c.team["@id"]:null})})}}return t.\u0275fac=function(r){return new(r||t)(e.\u0275\u0275directiveInject(i.gz),e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(v.K))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-user-update"]],decls:58,vars:33,consts:[[1,"container-fluid"],["title","Mettre \xe0 jour l'utilisateur",3,"Loading","breadcrumbItems"],[1,"row","mt-4",3,"formGroup","ngSubmit"],[1,"col-12",3,"disabled"],[1,"card"],[1,"card-body"],[1,"mb-3","row"],["for","name-input",1,"col-md-2","col-form-label"],[1,"col-md-10"],["formControlName","fullName","type","text","id","name-input",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","text-input",1,"col-md-2","col-form-label"],["formControlName","username","type","text","id","text-input",1,"form-control",3,"ngClass"],["for","password-input",1,"col-md-2","col-form-label"],["type","password","formControlName","password","id","password-input",1,"form-control",3,"ngClass"],["formControlName","team","bindLabel","titre","bindValue","@id","typeToSearchText","Veuillez saisir 2 caract\xe8res ou plus",3,"items","minTermLength","loading","typeahead"],[1,"col-12"],[1,"font-size-14",3,"ngClass"],[1,"form-check"],["type","radio","formControlName","roles","id","role1","value","ROLE_SUPER_ADMIN",1,"form-check-input"],["for","role1",1,"form-check-label"],["type","radio","formControlName","roles","id","role2","value","ROLE_ADMIN",1,"form-check-input"],["for","role2",1,"form-check-label"],["type","radio","formControlName","roles","id","role3","value","ROLE_USER",1,"form-check-input"],["for","role3",1,"form-check-label"],[1,"row","justify-content-end"],[1,"col-auto"],["routerLink","/users",1,"btn","btn-light","me-2"],[1,"fas","fa-arrow-circle-left","me-1"],[1,"btn","btn-primary"],["class","bx bx-loader-alt fa-spin",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"bx","bx-loader-alt","fa-spin"]],template:function(r,n){1&r&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"form",2),e.\u0275\u0275listener("ngSubmit",function(){return n.userService.onUpdate(n.id)}),e.\u0275\u0275elementStart(4,"fieldset",3),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementStart(6,"div",4),e.\u0275\u0275elementStart(7,"div",5),e.\u0275\u0275elementStart(8,"div",6),e.\u0275\u0275elementStart(9,"label",7),e.\u0275\u0275text(10,"Nom"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",8),e.\u0275\u0275element(12,"input",9),e.\u0275\u0275template(13,Z,2,1,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",6),e.\u0275\u0275elementStart(15,"label",11),e.\u0275\u0275text(16,"Matricule"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",8),e.\u0275\u0275element(18,"input",12),e.\u0275\u0275template(19,te,2,1,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",6),e.\u0275\u0275elementStart(21,"label",13),e.\u0275\u0275text(22,"Mot de passe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",8),e.\u0275\u0275element(24,"input",14),e.\u0275\u0275template(25,ae,3,2,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",6),e.\u0275\u0275elementStart(27,"label",7),e.\u0275\u0275text(28,"\xc9quipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",8),e.\u0275\u0275element(30,"ng-select",15),e.\u0275\u0275pipe(31,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"div",6),e.\u0275\u0275elementStart(33,"div",16),e.\u0275\u0275elementStart(34,"h5",17),e.\u0275\u0275text(35,"R\xf4le"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",18),e.\u0275\u0275element(37,"input",19),e.\u0275\u0275elementStart(38,"label",20),e.\u0275\u0275text(39," Super Admin "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"div",18),e.\u0275\u0275element(41,"input",21),e.\u0275\u0275elementStart(42,"label",22),e.\u0275\u0275text(43,"Admin"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"div",18),e.\u0275\u0275element(45,"input",23),e.\u0275\u0275elementStart(46,"label",24),e.\u0275\u0275text(47,"User"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(48,oe,2,1,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"div",25),e.\u0275\u0275elementStart(50,"div",26),e.\u0275\u0275elementStart(51,"button",27),e.\u0275\u0275element(52,"i",28),e.\u0275\u0275text(53,"Retour \xe0 la liste"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(54,"button",29),e.\u0275\u0275template(55,le,1,0,"i",30),e.\u0275\u0275pipe(56,"async"),e.\u0275\u0275text(57," Sauvegarder"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&r&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("Loading",e.\u0275\u0275pipeBind1(2,17,n.userService.loading$)||n.userService.loading)("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",n.userService.userForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(5,19,n.userService.loading$)||n.userService.loading),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(25,O,n.userService.fullName.invalid&&n.userService.submitted)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.userService.submitted&&n.userService.fullName.errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(27,O,n.userService.username.invalid&&n.userService.submitted)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.userService.submitted&&n.userService.username.errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(29,O,n.userService.password.invalid&&n.userService.submitted)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.userService.submitted&&n.userService.password.errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("items",e.\u0275\u0275pipeBind1(31,21,n.userService.teams$))("minTermLength",2)("loading",n.userService.teamLoading)("typeahead",n.userService.teamInput$),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(31,O,n.userService.roles.invalid&&n.userService.submitted)),e.\u0275\u0275advance(14),e.\u0275\u0275property("ngIf",n.userService.roles.invalid&&n.userService.submitted),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",n.userService.submitted&&(e.\u0275\u0275pipeBind1(56,23,n.userService.loading$)||n.userService.loading)))},directives:[b.V,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,p.NgClass,p.NgIf,m.w9,o._,i.rH],pipes:[p.AsyncPipe],encapsulation:2}),t})();var N=l(6015);function me(t,a){1&t&&(e.\u0275\u0275elementStart(0,"a",33),e.\u0275\u0275element(1,"i",34),e.\u0275\u0275text(2," Ajouter"),e.\u0275\u0275elementEnd())}function de(t,a){1&t&&(e.\u0275\u0275elementStart(0,"td",35),e.\u0275\u0275text(1," Chargement... "),e.\u0275\u0275elementEnd())}function pe(t,a){1&t&&(e.\u0275\u0275elementStart(0,"td",35),e.\u0275\u0275text(1," Aucune donn\xe9e trouv\xe9e ! "),e.\u0275\u0275elementEnd())}const ce=function(t){return["/teams/details",t]};function ue(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"a",40),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext().$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275property("routerLink",n.authService.isAuthorized("teams_details")?e.\u0275\u0275pureFunction1(2,ce,r.team.id):null),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(r.team.titre)}}const ve=function(t){return["details",t]};function fe(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"a",46),e.\u0275\u0275element(1,"i",47),e.\u0275\u0275text(2," Voir "),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(1,ve,r.id))}}const _e=function(t){return["update",t]};function ge(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"a",46),e.\u0275\u0275element(1,"i",48),e.\u0275\u0275text(2," Modifier "),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(1,_e,r.id))}}function Se(t,a){if(1&t){const r=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",49),e.\u0275\u0275listener("click",function(s){e.\u0275\u0275restoreView(r);const c=e.\u0275\u0275nextContext(2).$implicit;return e.\u0275\u0275nextContext().userService.deleteItem(c.id,s.target)}),e.\u0275\u0275element(1,"i",50),e.\u0275\u0275text(2," Supprimer "),e.\u0275\u0275elementEnd()}}function Ee(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",41),e.\u0275\u0275element(1,"i",42),e.\u0275\u0275elementStart(2,"div",43),e.\u0275\u0275template(3,fe,3,3,"a",44),e.\u0275\u0275template(4,ge,3,3,"a",44),e.\u0275\u0275template(5,Se,3,0,"a",45),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t){const r=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",r.authService.isAuthorized("users_details")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.authService.isAuthorized("users_update")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.authService.isAuthorized("users_delete"))}}function be(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275element(2,"ngb-highlight",36),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275element(4,"ngb-highlight",36),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275element(6,"ngb-highlight",36),e.\u0275\u0275pipe(7,"replace"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"td"),e.\u0275\u0275template(9,ue,2,4,"a",37),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"td",38),e.\u0275\u0275template(11,Ee,6,3,"div",39),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t){const r=a.$implicit,n=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(27),c=e.\u0275\u0275reference(30),w=e.\u0275\u0275reference(33);e.\u0275\u0275advance(2),e.\u0275\u0275property("result",r.username)("term",s.value),e.\u0275\u0275advance(2),e.\u0275\u0275property("result",r.fullName)("term",c.value),e.\u0275\u0275advance(2),e.\u0275\u0275property("result",e.\u0275\u0275pipeBind3(7,8,r.roles,"_"," "))("term",w.options[w.options.selectedIndex].text),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",r.team),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.authService.isAuthorized("users_details")||n.authService.isAuthorized("users_update")||n.authService.isAuthorized("users_delete"))}}function he(t,a){if(1&t){const r=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",52),e.\u0275\u0275elementStart(1,"div",53),e.\u0275\u0275elementStart(2,"div",54),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",53),e.\u0275\u0275elementStart(5,"div",55),e.\u0275\u0275elementStart(6,"ngb-pagination",56),e.\u0275\u0275listener("pageChange",function(s){return e.\u0275\u0275restoreView(r),e.\u0275\u0275nextContext(2).userService.page=s})("pageChange",function(s){return e.\u0275\u0275restoreView(r),e.\u0275\u0275nextContext(2).userService.onPaginate(s)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&t){const r=e.\u0275\u0275nextContext().ngIf,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate3(" Affichage de ",r.startIndex," \xe0 ",r.endIndex," de ",r.totalRecords," entr\xe9es "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",r.totalRecords)("page",n.userService.page)("pageSize",n.userService.pageSize)("maxSize",5)}}function Ce(t,a){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,he,7,7,"div",51),e.\u0275\u0275elementContainerEnd()),2&t){const r=a.ngIf,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.totalRecords>n.userService.pageSize)}}const ye=[{path:"",component:(()=>{class t{constructor(r,n,s,c){this.userService=r,this.fb=n,this.config=s,this.authService=c,this.userService.findAll(),r.loadTeams(),r.userForm=this.fb.group({fullName:[""],username:[""],roles:[""],"team.id[]":[""]}),s.notFoundText="Aucune donn\xe9e trouv\xe9e !"}}return t.\u0275fac=function(r){return new(r||t)(e.\u0275\u0275directiveInject(v.K),e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(m.$q),e.\u0275\u0275directiveInject(d.$))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-users-list"]],decls:65,vars:28,consts:[[1,"container-fluid"],[1,"row","align-items-center","justify-content-between","mb-4"],[1,"col-auto"],["title","Utilisateurs",3,"breadcrumbItems"],["routerLink","/users/add","class","btn btn-primary ms-2",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"table-responsive",3,"formGroup","ngSubmit"],[1,"table","table-bordered"],["width","22%"],["width","123px"],["valign","middle"],["type","text","placeholder","Matricule...","formControlName","username",1,"form-control"],["searchUsername",""],["type","text","placeholder","Nom...","formControlName","fullName",1,"form-control"],["searchFullName",""],["formControlName","roles",1,"form-select"],["searchRoles",""],["value","","selected",""],["value","ROLE_USER"],["value","ROLE_ADMIN"],["value","ROLE_SUPER_ADMIN"],["formControlName","team.id[]","bindLabel","titre","bindValue","id","placeholder","\xc9quipe..","typeToSearchText","Veuillez saisir 2 caract\xe8res ou plus",3,"items","multiple","minTermLength","loading","typeahead"],["searchTeam",""],["type","submit",1,"btn","btn-sm","btn-primary","d-flex","align-items-center"],[1,"bx","bx-search","me-1"],["type","reset",1,"btn","btn-sm","text-primary","flex","align-items-center",3,"click"],[1,"bx","bx-x","me-1"],["class","text-center","colspan","5",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],["routerLink","/users/add",1,"btn","btn-primary","ms-2"],[1,"fas","fa-plus-circle"],["colspan","5",1,"text-center"],[3,"result","term"],["target","_blank","rel","noopener noreferrer",3,"routerLink",4,"ngIf"],["align","center"],["ngbDropdown","","placement","bottom-left",4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"routerLink"],["ngbDropdown","","placement","bottom-left"],["ngbDropdownToggle","","data-toggle","dropdown","aria-expanded","true",1,"fas","fa-ellipsis-h","dropdown-toggle","c-pointer"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["class","dropdown-item","href","javascript: void(0);",3,"routerLink",4,"ngIf"],["class","dropdown-item text-danger","href","javascript: void(0);",3,"click",4,"ngIf"],["href","javascript: void(0);",1,"dropdown-item",3,"routerLink"],[1,"fas","fa-eye","me-2"],[1,"fas","fa-edit","me-2"],["href","javascript: void(0);",1,"dropdown-item","text-danger",3,"click"],[1,"fas","fa-trash","me-2"],["class","row justify-content-md-between align-items-md-center mt-2",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","maxSize","pageChange"]],template:function(r,n){1&r&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275element(3,"app-page-title",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",2),e.\u0275\u0275template(5,me,3,0,"a",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275elementStart(8,"div",7),e.\u0275\u0275elementStart(9,"div",8),e.\u0275\u0275elementStart(10,"form",9),e.\u0275\u0275listener("ngSubmit",function(){return n.userService.onSearch()}),e.\u0275\u0275elementStart(11,"table",10),e.\u0275\u0275elementStart(12,"thead"),e.\u0275\u0275elementStart(13,"tr"),e.\u0275\u0275elementStart(14,"th",11),e.\u0275\u0275text(15,"Matricule"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"th",11),e.\u0275\u0275text(17,"Nom"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"th",11),e.\u0275\u0275text(19,"R\xf4le"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"th",11),e.\u0275\u0275text(21,"\xc9quipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(22,"th",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"tbody"),e.\u0275\u0275elementStart(24,"tr",13),e.\u0275\u0275elementStart(25,"td"),e.\u0275\u0275element(26,"input",14,15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"td"),e.\u0275\u0275element(29,"input",16,17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"td"),e.\u0275\u0275elementStart(32,"select",18,19),e.\u0275\u0275elementStart(34,"option",20),e.\u0275\u0275text(35,"R\xf4le..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"option",21),e.\u0275\u0275text(37,"USER"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"option",22),e.\u0275\u0275text(39,"ADMIN"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"option",23),e.\u0275\u0275text(41,"SUPER ADMIN"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"td"),e.\u0275\u0275element(43,"ng-select",24,25),e.\u0275\u0275pipe(45,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"td"),e.\u0275\u0275elementStart(47,"button",26),e.\u0275\u0275element(48,"i",27),e.\u0275\u0275text(49,"Rechercher "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"button",28),e.\u0275\u0275listener("click",function(){return n.userService.findAll()}),e.\u0275\u0275element(51,"i",29),e.\u0275\u0275text(52,"R\xe9initialiser "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"tr"),e.\u0275\u0275template(54,de,2,0,"td",30),e.\u0275\u0275pipe(55,"async"),e.\u0275\u0275pipe(56,"async"),e.\u0275\u0275template(57,pe,2,0,"td",30),e.\u0275\u0275pipe(58,"async"),e.\u0275\u0275pipe(59,"async"),e.\u0275\u0275pipe(60,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(61,be,12,12,"tr",31),e.\u0275\u0275pipe(62,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(63,Ce,2,1,"ng-container",32),e.\u0275\u0275pipe(64,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&r&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.authService.isAuthorized("users_add")),e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",n.userService.userForm),e.\u0275\u0275advance(33),e.\u0275\u0275property("items",e.\u0275\u0275pipeBind1(45,12,n.userService.teams$))("multiple",!0)("minTermLength",2)("loading",n.userService.teamLoading)("typeahead",n.userService.teamInput$),e.\u0275\u0275advance(11),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(55,14,!e.\u0275\u0275pipeBind1(56,16,n.userService.users$)&&n.userService.loading$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(58,18,e.\u0275\u0275pipeBind1(59,20,n.userService.users$)&&0===e.\u0275\u0275pipeBind1(60,22,n.userService.users$).length&&n.userService.loaded$)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(62,24,n.userService.users$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(64,26,n.userService.pagination$)))},directives:[b.V,p.NgIf,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,o.EJ,o.YN,o.Kr,m.w9,p.NgForOf,i.yS,N._h,N.jt,N.iD,N.Vi,N.N9],pipes:[p.AsyncPipe,u],encapsulation:2}),t})(),canActivate:[S.p],data:{access:"users_show"}},{path:"add",component:k,canActivate:[S.p],data:{access:"users_add"}},{path:"profile",component:Q,canActivate:[S.p],data:{access:"profile_update"}},{path:"update/:id",component:se,canActivate:[S.p],data:{access:"users_update"}},{path:"details/:id",component:T,canActivate:[S.p],data:{access:"users_details"}}];let Ie=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[i.Bz.forChild(ye)],i.Bz]}),t})();var xe=l(9922);let Ue=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[Ie,xe.m]]}),t})()},5565:(D,I,l)=>{l.d(I,{K:()=>$});var i=l(1824),S=l(3405),o=l(3596),e=l(2411),v=l(5686),b=l(5389),p=l(8735),m=l(1366),E=l(9204),f=l(8053),U=l(2047),M=l(8260),x=l(3668),F=l(5633),A=l(4522),R=l(7686),B=l(8274);let $=(()=>{class h extends i.c8{constructor(d,u,g,_,y){super("users",d),this.serviceElementsFactory=d,this.confirmDialogService=u,this.http=g,this.authService=_,this.toast=y,this.pageSize=M.N.pageSize,this.server=M.N.serverURL,this.teamLoading=!1,this.teamInput$=new S.xQ,this.submitted=!1,this.loading=!1,this.page=1}findAll(){this.findByCriteria({page:1})}loadTeams(d=[]){this.teams$=(0,o.z)((0,e.of)(d),this.teamInput$.pipe((0,v.b)(500),(0,b.x)(),(0,p.h)(u=>null!=u),(0,m.b)(()=>this.teamLoading=!0),(0,E.w)(u=>this.http.get(`${this.server}/api/teams?properties[]=id&properties[]=titre&titre=`+u).pipe((0,f.U)(g=>g["hydra:member"]),(0,U.K)(()=>(0,e.of)([])),(0,m.b)(()=>this.teamLoading=!1)))))}getPagination(){this.pagination$=(0,e.of)(),this.pagination$=this.selectors$.entityActions$.pipe((0,f.U)(d=>d.payload.pagination))}deleteItem(d,u){this.confirmDialogService.setConfirmation("Vous \xeates s\xfbr de vouloir supprimer?",()=>{this.delete(d).pipe(this.toast.observe({loading:"Suppression...",success:()=>(u.closest("tr").remove(),"Utilisateur supprim\xe9 avec succ\xe8s"),error:"un probl\xe8me est survenu, veuillez r\xe9essayer"})).subscribe()})}onSearch(){this.page=1,this.lastSearchedParams=this.userForm.value,this.findByCriteria(Object.assign({page:1},this.lastSearchedParams))}onCreate(){let d=this.userForm;if(this.submitted=!0,d.invalid)return;this.submitted=!1;let u=this.toast,g=Object.entries(d.value);const _=Object.fromEntries(g.filter(([y,T])=>""!==T));_.roles=[_.roles.toString()],this.add(_).subscribe({error:()=>u.error("un probl\xe8me est survenu, veuillez r\xe9essayer"),complete(){d.reset(),u.success("Utilisateur ajout\xe9 avec succ\xe8s")}})}onUpdate(d,u=!1){let g=this.userForm;if(this.submitted=!0,g.invalid)return;this.submitted=!1;let _=this,y=this.toast,T=this.authService.user,C=Object.assign({},g.value);C.id=d,u?C=Object.entries(C).reduce((L,[z,P])=>(""!==P&&null!==P&&(L[z]=P),L),{}):C.roles=[C.roles.toString()],this.update(C).subscribe({error:()=>y.error("un probl\xe8me est survenu, veuillez r\xe9essayer"),complete(){T.id==d?(_.loading=!0,_.authService.logout(!1),_.authService.login(C.username,C.password).subscribe({error:L=>{L&&y.error(L.error.message),_.loading=!1},complete(){_.loading=!1,y.success("L'utilisateur a \xe9t\xe9 mis \xe0 jour avec succ\xe8s"),setTimeout(()=>window.location.reload(),10)}})):y.success("L'utilisateur a \xe9t\xe9 mis \xe0 jour avec succ\xe8s")}})}get fullName(){return this.userForm.get("fullName")}get username(){return this.userForm.get("username")}get password(){return this.userForm.get("password")}get roles(){return this.userForm.get("roles")}get team(){return this.userForm.get("team")}findByCriteria(d){this.users$=(0,e.of)([]);let u=Object.keys(d).filter(g=>""!=d[g]&&null!=d[g]).reduce((g,_)=>Object.assign(Object.assign({},g),{[_]:d[_]}),{});this.users$=this.getWithQuery(u),this.getPagination()}onPaginate(d){this.findByCriteria(Object.assign({page:d},this.lastSearchedParams))}}return h.\u0275fac=function(d){return new(d||h)(x.\u0275\u0275inject(i.yV),x.\u0275\u0275inject(F.D),x.\u0275\u0275inject(A.eN),x.\u0275\u0275inject(R.$),x.\u0275\u0275inject(B.jE))},h.\u0275prov=x.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},1950:(D,I,l)=>{l.d(I,{V:()=>p});var i=l(3668),S=l(6019);function o(m,E){1&m&&(i.\u0275\u0275elementStart(0,"div",8),i.\u0275\u0275elementStart(1,"span",9),i.\u0275\u0275text(2,"Loading..."),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd())}function e(m,E){if(1&m&&(i.\u0275\u0275elementStart(0,"li",12),i.\u0275\u0275elementStart(1,"a",13),i.\u0275\u0275text(2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&m){const f=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(f.label)}}function v(m,E){if(1&m&&(i.\u0275\u0275elementStart(0,"li",14),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&m){const f=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1("",f.label," ")}}function b(m,E){if(1&m&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,e,3,1,"li",10),i.\u0275\u0275template(2,v,2,1,"li",11),i.\u0275\u0275elementContainerEnd()),2&m){const f=E.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!f.active),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",f.active)}}let p=(()=>{class m{constructor(){}ngOnInit(){}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275cmp=i.\u0275\u0275defineComponent({type:m,selectors:[["app-page-title"]],inputs:{breadcrumbItems:"breadcrumbItems",title:"title",Loading:"Loading"},decls:9,vars:3,consts:[[1,"row"],[1,"col-12"],[1,"page-title-box","d-flex","align-items-center","justify-content-between"],[1,"mb-0","font-size-18"],["role","status","class","spinner-grow ms-1 spinner-grow-sm text-primary",4,"ngIf"],[1,"page-title-right"],[1,"breadcrumb","m-0"],[4,"ngFor","ngForOf"],["role","status",1,"spinner-grow","ms-1","spinner-grow-sm","text-primary"],[1,"sr-only"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"breadcrumb-item"],["href","javascript: void(0);"],[1,"breadcrumb-item","active"]],template:function(f,U){1&f&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275elementStart(1,"div",1),i.\u0275\u0275elementStart(2,"div",2),i.\u0275\u0275elementStart(3,"h4",3),i.\u0275\u0275text(4),i.\u0275\u0275template(5,o,3,0,"div",4),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(6,"div",5),i.\u0275\u0275elementStart(7,"ol",6),i.\u0275\u0275template(8,b,3,2,"ng-container",7),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&f&&(i.\u0275\u0275advance(4),i.\u0275\u0275textInterpolate1(" ",U.title," "),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",U.Loading),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngForOf",U.breadcrumbItems))},directives:[S.NgIf,S.NgForOf],encapsulation:2}),m})()}}]);